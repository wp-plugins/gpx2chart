/* Javascript plotting library for jQuery, v. 0.7.
 *
 * Released under the MIT license by IOLA, December 2007.
 *
 */
(function(b){b.color={};b.color.make=function(d,e,g,f){var c={};c.r=d||0;c.g=e||0;c.b=g||0;c.a=f!=null?f:1;c.add=function(j,k){for(var l=0;l<j.length;++l){c[j.charAt(l)]+=k}return c.normalize()};c.scale=function(j,k){for(var l=0;l<j.length;++l){c[j.charAt(l)]*=k}return c.normalize()};c.toString=function(){if(c.a>=1){return"rgb("+[c.r,c.g,c.b].join(",")+")"}else{return"rgba("+[c.r,c.g,c.b,c.a].join(",")+")"}};c.normalize=function(){function j(l,k,n){return k<l?l:(k>n?n:k)}c.r=j(0,parseInt(c.r),255);c.g=j(0,parseInt(c.g),255);c.b=j(0,parseInt(c.b),255);c.a=j(0,c.a,1);return c};c.clone=function(){return b.color.make(c.r,c.b,c.g,c.a)};return c.normalize()};b.color.extract=function(d,e){var c;do{c=d.css(e).toLowerCase();if(c!=""&&c!="transparent"){break}d=d.parent()}while(!b.nodeName(d.get(0),"body"));if(c=="rgba(0, 0, 0, 0)"){c="transparent"}return b.color.parse(c)};b.color.parse=function(c){var d,f=b.color.make;if(d=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(c)){return f(parseInt(d[1],10),parseInt(d[2],10),parseInt(d[3],10))}if(d=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(c)){return f(parseInt(d[1],10),parseInt(d[2],10),parseInt(d[3],10),parseFloat(d[4]))}if(d=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(c)){return f(parseFloat(d[1])*2.55,parseFloat(d[2])*2.55,parseFloat(d[3])*2.55)}if(d=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(c)){return f(parseFloat(d[1])*2.55,parseFloat(d[2])*2.55,parseFloat(d[3])*2.55,parseFloat(d[4]))}if(d=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(c)){return f(parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16))}if(d=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(c)){return f(parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16))}var e=b.trim(c).toLowerCase();if(e=="transparent"){return f(255,255,255,0)}else{d=a[e]||[0,0,0];return f(d[0],d[1],d[2])}};var a={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery);(function(c){function b(az,am,L,aj){var T=[],R={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:true,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:0.85},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null,monthNames:null,timeformat:null,twelveHourClock:false},yaxis:{autoscaleMargin:0.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:false,radius:3,lineWidth:2,fill:true,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:false,fillColor:null,steps:false},bars:{show:false,lineWidth:2,barWidth:1,fill:true,fillColor:null,align:"left",horizontal:false},shadowSize:3},grid:{show:true,aboveData:false,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:false,hoverable:false,autoHighlight:true,mouseActiveRadius:10,mouseActiveIgnoreY:false,},interaction:{redrawOverlayInterval:1000/60},hooks:{}},aD=null,ah=null,A=null,J=null,C=null,q=[],aA=[],r={left:0,right:0,top:0,bottom:0},I=0,K=0,j=0,y=0,ao={processOptions:[],processRawData:[],processDatapoints:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},av=this;av.setData=an;av.setupGrid=u;av.draw=aa;av.getPlaceholder=function(){return az};av.getCanvas=function(){return aD};av.getPlotOffset=function(){return r};av.width=function(){return j};av.height=function(){return y};av.offset=function(){var aF=A.offset();aF.left+=r.left;aF.top+=r.top;return aF};av.getData=function(){return T};av.getAxes=function(){var aG={},aF;c.each(q.concat(aA),function(aH,aI){if(aI){aG[aI.direction+(aI.n!=1?aI.n:"")+"axis"]=aI}});return aG};av.getXAxes=function(){return q};av.getYAxes=function(){return aA};av.c2p=E;av.p2c=aw;av.getOptions=function(){return R};av.highlight=z;av.unhighlight=X;av.triggerRedrawOverlay=f;av.pointOffset=function(aF){return{left:parseInt(q[aE(aF,"x")-1].p2c(+aF.x)+r.left),top:parseInt(aA[aE(aF,"y")-1].p2c(+aF.y)+r.top)}};av.shutdown=ak;av.resize=function(){D();g(aD);g(ah)};av.hooks=ao;H(av);ad(L);ab();an(am);u();aa();al();function ar(aH,aF){aF=[av].concat(aF);for(var aG=0;aG<aH.length;++aG){aH[aG].apply(this,aF)}}function H(){for(var aF=0;aF<aj.length;++aF){var aG=aj[aF];aG.init(av);if(aG.options){c.extend(true,R,aG.options)}}}function ad(aG){var aF;c.extend(true,R,aG);if(R.xaxis.color==null){R.xaxis.color=R.grid.color}if(R.yaxis.color==null){R.yaxis.color=R.grid.color}if(R.xaxis.tickColor==null){R.xaxis.tickColor=R.grid.tickColor}if(R.yaxis.tickColor==null){R.yaxis.tickColor=R.grid.tickColor}if(R.grid.borderColor==null){R.grid.borderColor=R.grid.color}if(R.grid.tickColor==null){R.grid.tickColor=c.color.parse(R.grid.color).scale("a",0.22).toString()}for(aF=0;aF<Math.max(1,R.xaxes.length);++aF){R.xaxes[aF]=c.extend(true,{},R.xaxis,R.xaxes[aF])}for(aF=0;aF<Math.max(1,R.yaxes.length);++aF){R.yaxes[aF]=c.extend(true,{},R.yaxis,R.yaxes[aF])}if(R.xaxis.noTicks&&R.xaxis.ticks==null){R.xaxis.ticks=R.xaxis.noTicks}if(R.yaxis.noTicks&&R.yaxis.ticks==null){R.yaxis.ticks=R.yaxis.noTicks}if(R.x2axis){R.xaxes[1]=c.extend(true,{},R.xaxis,R.x2axis);R.xaxes[1].position="top"}if(R.y2axis){R.yaxes[1]=c.extend(true,{},R.yaxis,R.y2axis);R.yaxes[1].position="right"}if(R.grid.coloredAreas){R.grid.markings=R.grid.coloredAreas}if(R.grid.coloredAreasColor){R.grid.markingsColor=R.grid.coloredAreasColor}if(R.lines){c.extend(true,R.series.lines,R.lines)}if(R.points){c.extend(true,R.series.points,R.points)}if(R.bars){c.extend(true,R.series.bars,R.bars)}if(R.shadowSize!=null){R.series.shadowSize=R.shadowSize}for(aF=0;aF<R.xaxes.length;++aF){Z(q,aF+1).options=R.xaxes[aF]}for(aF=0;aF<R.yaxes.length;++aF){Z(aA,aF+1).options=R.yaxes[aF]}for(var aH in ao){if(R.hooks[aH]&&R.hooks[aH].length){ao[aH]=ao[aH].concat(R.hooks[aH])}}ar(ao.processOptions,[R])}function an(aF){T=ac(aF);aB();B()}function ac(aI){var aG=[];for(var aF=0;aF<aI.length;++aF){var aH=c.extend(true,{},R.series);if(aI[aF].data!=null){aH.data=aI[aF].data;delete aI[aF].data;c.extend(true,aH,aI[aF]);aI[aF].data=aH.data}else{aH.data=aI[aF]}aG.push(aH)}return aG}function aE(aG,aH){var aF=aG[aH+"axis"];if(typeof aF=="object"){aF=aF.n}if(typeof aF!="number"){aF=1}return aF}function n(){return c.grep(q.concat(aA),function(aF){return aF})}function E(aI){var aG={},aF,aH;for(aF=0;aF<q.length;++aF){aH=q[aF];if(aH&&aH.used){aG["x"+aH.n]=aH.c2p(aI.left)}}for(aF=0;aF<aA.length;++aF){aH=aA[aF];if(aH&&aH.used){aG["y"+aH.n]=aH.c2p(aI.top)}}if(aG.x1!==undefined){aG.x=aG.x1}if(aG.y1!==undefined){aG.y=aG.y1}return aG}function aw(aJ){var aH={},aG,aI,aF;for(aG=0;aG<q.length;++aG){aI=q[aG];if(aI&&aI.used){aF="x"+aI.n;if(aJ[aF]==null&&aI.n==1){aF="x"}if(aJ[aF]!=null){aH.left=aI.p2c(aJ[aF]);break}}}for(aG=0;aG<aA.length;++aG){aI=aA[aG];if(aI&&aI.used){aF="y"+aI.n;if(aJ[aF]==null&&aI.n==1){aF="y"}if(aJ[aF]!=null){aH.top=aI.p2c(aJ[aF]);break}}}return aH}function Z(aG,aF){if(!aG[aF-1]){aG[aF-1]={n:aF,direction:aG==q?"x":"y",options:c.extend(true,{},aG==q?R.xaxis:R.yaxis)}}return aG[aF-1]}function aB(){var aK;var aQ=T.length,aF=[],aI=[];for(aK=0;aK<T.length;++aK){var aN=T[aK].color;if(aN!=null){--aQ;if(typeof aN=="number"){aI.push(aN)}else{aF.push(c.color.parse(T[aK].color))}}}for(aK=0;aK<aI.length;++aK){aQ=Math.max(aQ,aI[aK]+1)}var aG=[],aJ=0;aK=0;while(aG.length<aQ){var aM;if(R.colors.length==aK){aM=c.color.make(100,100,100)}else{aM=c.color.parse(R.colors[aK])}var aH=aJ%2==1?-1:1;aM.scale("rgb",1+aH*Math.ceil(aJ/2)*0.2);aG.push(aM);++aK;if(aK>=R.colors.length){aK=0;++aJ}}var aL=0,aR;for(aK=0;aK<T.length;++aK){aR=T[aK];if(aR.color==null){aR.color=aG[aL].toString();++aL}else{if(typeof aR.color=="number"){aR.color=aG[aR.color].toString()}}if(aR.lines.show==null){var aP,aO=true;for(aP in aR){if(aR[aP]&&aR[aP].show){aO=false;break}}if(aO){aR.lines.show=true}}aR.xaxis=Z(q,aE(aR,"x"));aR.yaxis=Z(aA,aE(aR,"y"))}}function B(){var aS=Number.POSITIVE_INFINITY,aM=Number.NEGATIVE_INFINITY,aF=Number.MAX_VALUE,aY,aW,aV,aR,aH,aN,aX,aT,aL,aK,aG,a4,a1,aP;function aJ(a7,a6,a5){if(a6<a7.datamin&&a6!=-aF){a7.datamin=a6}if(a5>a7.datamax&&a5!=aF){a7.datamax=a5}}c.each(n(),function(a5,a6){a6.datamin=aS;a6.datamax=aM;a6.used=false});for(aY=0;aY<T.length;++aY){aN=T[aY];aN.datapoints={points:[]};ar(ao.processRawData,[aN,aN.data,aN.datapoints])}for(aY=0;aY<T.length;++aY){aN=T[aY];var a3=aN.data,a0=aN.datapoints.format;if(!a0){a0=[];a0.push({x:true,number:true,required:true});a0.push({y:true,number:true,required:true});if(aN.bars.show||(aN.lines.show&&aN.lines.fill)){a0.push({y:true,number:true,required:false,defaultValue:0});if(aN.bars.horizontal){delete a0[a0.length-1].y;a0[a0.length-1].x=true}}aN.datapoints.format=a0}if(aN.datapoints.pointsize!=null){continue}aN.datapoints.pointsize=a0.length;aT=aN.datapoints.pointsize;aX=aN.datapoints.points;insertSteps=aN.lines.show&&aN.lines.steps;aN.xaxis.used=aN.yaxis.used=true;for(aW=aV=0;aW<a3.length;++aW,aV+=aT){aP=a3[aW];var aI=aP==null;if(!aI){for(aR=0;aR<aT;++aR){a4=aP[aR];a1=a0[aR];if(a1){if(a1.number&&a4!=null){a4=+a4;if(isNaN(a4)){a4=null}else{if(a4==Infinity){a4=aF}else{if(a4==-Infinity){a4=-aF}}}}if(a4==null){if(a1.required){aI=true}if(a1.defaultValue!=null){a4=a1.defaultValue}}}aX[aV+aR]=a4}}if(aI){for(aR=0;aR<aT;++aR){a4=aX[aV+aR];if(a4!=null){a1=a0[aR];if(a1.x){aJ(aN.xaxis,a4,a4)}if(a1.y){aJ(aN.yaxis,a4,a4)}}aX[aV+aR]=null}}else{if(insertSteps&&aV>0&&aX[aV-aT]!=null&&aX[aV-aT]!=aX[aV]&&aX[aV-aT+1]!=aX[aV+1]){for(aR=0;aR<aT;++aR){aX[aV+aT+aR]=aX[aV+aR]}aX[aV+1]=aX[aV-aT+1];aV+=aT}}}}for(aY=0;aY<T.length;++aY){aN=T[aY];ar(ao.processDatapoints,[aN,aN.datapoints])}for(aY=0;aY<T.length;++aY){aN=T[aY];aX=aN.datapoints.points,aT=aN.datapoints.pointsize;a0=aN.datapoints.format;var aO=aS,aU=aS,aQ=aM,aZ=aM;for(aW=0;aW<aX.length;aW+=aT){if(aX[aW]==null){continue}for(aR=0;aR<aT;++aR){a4=aX[aW+aR];a1=a0[aR];if(!a1||a4==aF||a4==-aF){continue}if(a1.x){if(a4<aO){aO=a4}if(a4>aQ){aQ=a4}}if(a1.y){if(a4<aU){aU=a4}if(a4>aZ){aZ=a4}}}}if(aN.bars.show){var a2=aN.bars.align=="left"?0:-aN.bars.barWidth/2;if(aN.bars.horizontal){aU+=a2;aZ+=a2+aN.bars.barWidth}else{aO+=a2;aQ+=a2+aN.bars.barWidth}}aJ(aN.xaxis,aO,aQ);aJ(aN.yaxis,aU,aZ)}c.each(n(),function(a5,a6){if(a6.datamin==aS){a6.datamin=null}if(a6.datamax==aM){a6.datamax=null}})}function k(aF,aG){var aH=document.createElement("canvas");aH.className=aG;aH.width=I;aH.height=K;if(!aF){c(aH).css({position:"absolute",left:0,top:0})}c(aH).appendTo(az);if(!aH.getContext){aH=window.G_vmlCanvasManager.initElement(aH)}aH.getContext("2d").save();return aH}function D(){I=az.width();K=az.height();if(I<=0||K<=0){throw"Invalid dimensions for plot, width = "+I+", height = "+K}}function g(aG){if(aG.width!=I){aG.width=I}if(aG.height!=K){aG.height=K}var aF=aG.getContext("2d");aF.restore();aF.save()}function ab(){var aG,aF=az.children("canvas.flot-base"),aH=az.children("canvas.flot-overlay");if(aF.length==0||aH==0){az.html("");az.css({padding:0});if(az.css("position")=="static"){az.css("position","relative")}D();aD=k(true,"flot-base");ah=k(false,"flot-overlay");aG=false}else{aD=aF.get(0);ah=aH.get(0);aG=true}J=aD.getContext("2d");C=ah.getContext("2d");A=c(ah);if(aG){az.data("plot").shutdown();av.resize();C.clearRect(0,0,I,K);A.unbind();az.children().not([aD,ah]).remove()}az.data("plot",av)}function al(){if(R.grid.hoverable){A.mousemove(ae);A.mouseleave(l)}if(R.grid.clickable){A.click(U)}ar(ao.bindEvents,[A])}function ak(){if(O){clearTimeout(O)}A.unbind("mousemove",ae);A.unbind("mouseleave",l);A.unbind("click",U);ar(ao.shutdown,[A])}function s(aK){function aG(aL){return aL}var aJ,aF,aH=aK.options.transform||aG,aI=aK.options.inverseTransform;if(aK.direction=="x"){aJ=aK.scale=j/Math.abs(aH(aK.max)-aH(aK.min));aF=Math.min(aH(aK.max),aH(aK.min))}else{aJ=aK.scale=y/Math.abs(aH(aK.max)-aH(aK.min));aJ=-aJ;aF=Math.max(aH(aK.max),aH(aK.min))}if(aH==aG){aK.p2c=function(aL){return(aL-aF)*aJ}}else{aK.p2c=function(aL){return(aH(aL)-aF)*aJ}}if(!aI){aK.c2p=function(aL){return aF+aL/aJ}}else{aK.c2p=function(aL){return aI(aF+aL/aJ)}}}function N(aH){var aF=aH.options,aM=aH.ticks||[],aN=aF.labelWidth||0,aL=aF.labelHeight||0,aK=aH.font;J.save();J.font=aK.style+" "+aK.variant+" "+aK.weight+" "+aK.size+"px '"+aK.family+"'";for(var aJ=0;aJ<aM.length;++aJ){var aO=aM[aJ];aO.lines=[];aO.width=aO.height=0;if(!aO.label){continue}var aQ=aO.label.replace(/<br ?\/?>|\r\n|\r/g,"\n").split("\n");for(var aI=0;aI<aQ.length;++aI){var aP={text:aQ[aI]},aG=J.measureText(aP.text);aP.width=aG.width;aP.height=aG.height!=null?aG.height:aK.size;aP.height+=Math.round(aK.size*0.15);aO.width=Math.max(aP.width,aO.width);aO.height+=aP.height;aO.lines.push(aP)}if(aF.labelWidth==null){aN=Math.max(aN,aO.width)}if(aF.labelHeight==null){aL=Math.max(aL,aO.height)}}J.restore();if(aF.axisLabel){J.save();J.font=aK.style+" "+aK.variant+" "+aK.weight+" "+aK.size+"px '"+aK.family+"'";aG=J.measureText(aF.axisLabel);h=aG.height!=null?aG.height:aK.size;aN=aN+h;J.restore();if(aH.direction=="y"){aN=aN+h}else{aL=aL+h}}aH.labelWidth=Math.ceil(aN);aH.labelHeight=Math.ceil(aL)}function ay(aH){var aG=aH.labelWidth,aP=aH.labelHeight,aL=aH.options.position,aJ=aH.options.tickLength,aK=R.grid.axisMargin,aN=R.grid.labelMargin,aO=aH.direction=="x"?q:aA,aI;var aF=c.grep(aO,function(aR){return aR&&aR.options.position==aL&&aR.reserveSpace});if(c.inArray(aH,aF)==aF.length-1){aK=0}if(aJ==null){var aM=c.grep(aO,function(aR){return aR&&aR.reserveSpace});var aQ=c.inArray(aH,aM)==0;if(aQ){aJ="full"}else{aJ=5}}if(!isNaN(+aJ)){aN+=+aJ}if(aH.direction=="x"){aP+=aN;if(aL=="bottom"){r.bottom+=aP+aK;aH.box={top:K-r.bottom,height:aP}}else{aH.box={top:r.top+aK,height:aP};r.top+=aP+aK}}else{aG+=aN;if(aL=="left"){aH.box={left:r.left+aK,width:aG};r.left+=aG+aK}else{r.right+=aG+aK;aH.box={left:I-r.right,width:aG}}}aH.position=aL;aH.tickLength=aJ;aH.box.padding=aN;aH.innermost=aQ}function Y(aF){if(aF.direction=="x"){aF.box.left=r.left-aF.labelWidth/2;aF.box.width=I-r.left-r.right+aF.labelWidth}else{aF.box.top=r.top-aF.labelHeight/2;aF.box.height=K-r.bottom-r.top+aF.labelHeight}}function P(){var aH=R.grid.minBorderMargin,aI={x:0,y:0},aF,aG;if(aH==null){aH=0;for(aF=0;aF<T.length;++aF){aH=Math.max(aH,2*(T[aF].points.radius+T[aF].points.lineWidth/2))}}aI.x=aI.y=Math.ceil(aH);c.each(n(),function(aK,aL){var aJ=aL.direction;if(aL.reserveSpace){aI[aJ]=Math.ceil(Math.max(aI[aJ],(aJ=="x"?aL.labelWidth:aL.labelHeight)/2))}});r.left=Math.max(aI.x,r.left);r.right=Math.max(aI.x,r.right);r.top=Math.max(aI.y,r.top);r.bottom=Math.max(aI.y,r.bottom)}function u(){var aH,aJ=n(),aK=R.grid.show;for(var aG in r){r[aG]=aK?R.grid.borderWidth:0}c.each(aJ,function(aL,aM){aM.show=aM.options.show;if(aM.show==null){aM.show=aM.used}aM.reserveSpace=aM.show||aM.options.reserveSpace;o(aM)});if(aK){var aI={style:az.css("font-style"),size:Math.round(0.8*(+az.css("font-size").replace("px","")||13)),variant:az.css("font-variant"),weight:az.css("font-weight"),family:az.css("font-family")};var aF=c.grep(aJ,function(aL){return aL.reserveSpace});c.each(aF,function(aL,aM){V(aM);S(aM);au(aM,aM.ticks);aM.font=c.extend({},aI,aM.options.font);N(aM)});for(aH=aF.length-1;aH>=0;--aH){ay(aF[aH])}P();c.each(aF,function(aL,aM){Y(aM)})}j=I-r.left-r.right;y=K-r.bottom-r.top;c.each(aJ,function(aL,aM){s(aM)});p()}function o(aI){var aJ=aI.options,aH=+(aJ.min!=null?aJ.min:aI.datamin),aF=+(aJ.max!=null?aJ.max:aI.datamax),aL=aF-aH;if(aL==0){var aG=aF==0?1:0.01;if(aJ.min==null){aH-=aG}if(aJ.max==null||aJ.min!=null){aF+=aG}}else{var aK=aJ.autoscaleMargin;if(aK!=null){if(aJ.min==null){aH-=aL*aK;if(aH<0&&aI.datamin!=null&&aI.datamin>=0){aH=0}}if(aJ.max==null){aF+=aL*aK;if(aF>0&&aI.datamax!=null&&aI.datamax<=0){aF=0}}}}aI.min=aH;aI.max=aF}function V(aK){var aQ=aK.options;var aL;if(typeof aQ.ticks=="number"&&aQ.ticks>0){aL=aQ.ticks}else{aL=0.3*Math.sqrt(aK.direction=="x"?I:K)}var aX=(aK.max-aK.min)/aL,aS,aF,aR,aV,aW,aU,aM;if(aQ.mode=="time"){var aN={second:1000,minute:60*1000,hour:60*60*1000,day:24*60*60*1000,month:30*24*60*60*1000,year:365.2425*24*60*60*1000};var aO=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[0.25,"month"],[0.5,"month"],[1,"month"],[2,"month"],[3,"month"],[6,"month"],[1,"year"]];var aG=0;if(aQ.minTickSize!=null){if(typeof aQ.tickSize=="number"){aG=aQ.tickSize}else{aG=aQ.minTickSize[0]*aN[aQ.minTickSize[1]]}}for(var aW=0;aW<aO.length-1;++aW){if(aX<(aO[aW][0]*aN[aO[aW][1]]+aO[aW+1][0]*aN[aO[aW+1][1]])/2&&aO[aW][0]*aN[aO[aW][1]]>=aG){break}}aS=aO[aW][0];aR=aO[aW][1];if(aR=="year"){aU=Math.pow(10,Math.floor(Math.log(aX/aN.year)/Math.LN10));aM=(aX/aN.year)/aU;if(aM<1.5){aS=1}else{if(aM<3){aS=2}else{if(aM<7.5){aS=5}else{aS=10}}}aS*=aU}aK.tickSize=aQ.tickSize||[aS,aR];aF=function(a1){var a6=[],a4=a1.tickSize[0],a7=a1.tickSize[1],a5=new Date(a1.min);var a0=a4*aN[a7];if(a7=="second"){a5.setUTCSeconds(a(a5.getUTCSeconds(),a4))}if(a7=="minute"){a5.setUTCMinutes(a(a5.getUTCMinutes(),a4))}if(a7=="hour"){a5.setUTCHours(a(a5.getUTCHours(),a4))}if(a7=="month"){a5.setUTCMonth(a(a5.getUTCMonth(),a4))}if(a7=="year"){a5.setUTCFullYear(a(a5.getUTCFullYear(),a4))}a5.setUTCMilliseconds(0);if(a0>=aN.minute){a5.setUTCSeconds(0)}if(a0>=aN.hour){a5.setUTCMinutes(0)}if(a0>=aN.day){a5.setUTCHours(0)}if(a0>=aN.day*4){a5.setUTCDate(1)}if(a0>=aN.year){a5.setUTCMonth(0)}var a9=0,a8=Number.NaN,a2;do{a2=a8;a8=a5.getTime();a6.push(a8);if(a7=="month"){if(a4<1){a5.setUTCDate(1);var aZ=a5.getTime();a5.setUTCMonth(a5.getUTCMonth()+1);var a3=a5.getTime();a5.setTime(a8+a9*aN.hour+(a3-aZ)*a4);a9=a5.getUTCHours();a5.setUTCHours(0)}else{a5.setUTCMonth(a5.getUTCMonth()+a4)}}else{if(a7=="year"){a5.setUTCFullYear(a5.getUTCFullYear()+a4)}else{a5.setTime(a8+a0)}}}while(a8<a1.max&&a8!=a2);return a6};aV=function(aZ,a2){var a4=new Date(aZ);if(aQ.timeformat!=null){return c.plot.formatDate(a4,aQ.timeformat,aQ.monthNames)}var a0=a2.tickSize[0]*aN[a2.tickSize[1]];var a1=a2.max-a2.min;var a3=(aQ.twelveHourClock)?" %p":"";if(a0<aN.minute){fmt="%h:%M:%S"+a3}else{if(a0<aN.day){if(a1<2*aN.day){fmt="%h:%M"+a3}else{fmt="%b %d %h:%M"+a3}}else{if(a0<aN.month){fmt="%b %d"}else{if(a0<aN.year){if(a1<aN.year){fmt="%b"}else{fmt="%b %y"}}else{fmt="%y"}}}}return c.plot.formatDate(a4,fmt,aQ.monthNames)}}else{var aY=aQ.tickDecimals;var aT=-Math.floor(Math.log(aX)/Math.LN10);if(aY!=null&&aT>aY){aT=aY}aU=Math.pow(10,-aT);aM=aX/aU;if(aM<1.5){aS=1}else{if(aM<3){aS=2;if(aM>2.25&&(aY==null||aT+1<=aY)){aS=2.5;++aT}}else{if(aM<7.5){aS=5}else{aS=10}}}aS*=aU;if(aQ.minTickSize!=null&&aS<aQ.minTickSize){aS=aQ.minTickSize}aK.tickDecimals=Math.max(0,aY!=null?aY:aT);aK.tickSize=aQ.tickSize||aS;aF=function(a1){var a3=[];var a4=a(a1.min,a1.tickSize),a0=0,aZ=Number.NaN,a2;do{a2=aZ;aZ=a4+a0*a1.tickSize;a3.push(aZ);++a0}while(aZ<a1.max&&aZ!=a2);return a3};aV=function(aZ,a0){return aZ.toFixed(a0.tickDecimals)}}if(aQ.alignTicksWithAxis!=null){var aJ=(aK.direction=="x"?q:aA)[aQ.alignTicksWithAxis-1];if(aJ&&aJ.used&&aJ!=aK){var aP=aF(aK);if(aP.length>0){if(aQ.min==null){aK.min=Math.min(aK.min,aP[0])}if(aQ.max==null&&aP.length>1){aK.max=Math.max(aK.max,aP[aP.length-1])}}aF=function(a1){var a2=[],aZ,a0;for(a0=0;a0<aJ.ticks.length;++a0){aZ=(aJ.ticks[a0].v-aJ.min)/(aJ.max-aJ.min);aZ=a1.min+aZ*(a1.max-a1.min);a2.push(aZ)}return a2};if(!aK.mode&&aQ.tickDecimals==null){var aI=Math.max(0,-Math.floor(Math.log(aX)/Math.LN10)+1),aH=aF(aK);if(!(aH.length>1&&/\..*0$/.test((aH[1]-aH[0]).toFixed(aI)))){aK.tickDecimals=aI}}}}aK.tickGenerator=aF;if(c.isFunction(aQ.tickFormatter)){aK.tickFormatter=function(aZ,a0){return""+aQ.tickFormatter(aZ,a0)}}else{aK.tickFormatter=aV}}function S(aJ){var aL=aJ.options.ticks,aK=[];if(aL==null||(typeof aL=="number"&&aL>0)){aK=aJ.tickGenerator(aJ)}else{if(aL){if(c.isFunction(aL)){aK=aL(aJ)}else{aK=aL}}}var aI,aF;aJ.ticks=[];for(aI=0;aI<aK.length;++aI){var aG=null;var aH=aK[aI];if(typeof aH=="object"){aF=+aH[0];if(aH.length>1){aG=aH[1]}}else{aF=+aH}if(aG==null){aG=aJ.tickFormatter(aF,aJ)}if(!isNaN(aF)){aJ.ticks.push({v:aF,label:aG})}}}function au(aF,aG){if(aF.options.autoscaleMargin&&aG.length>0){if(aF.options.min==null){aF.min=Math.min(aF.min,aG[0].v)}if(aF.options.max==null&&aG.length>1){aF.max=Math.max(aF.max,aG[aG.length-1].v)}}}function aa(){J.clearRect(0,0,I,K);var aG=R.grid;if(aG.show&&aG.backgroundColor){Q()}if(aG.show&&!aG.aboveData){ag();W()}for(var aF=0;aF<T.length;++aF){ar(ao.drawSeries,[J,T[aF]]);d(T[aF])}ar(ao.draw,[J]);if(aG.show&&aG.aboveData){ag();W()}}function F(aF,aM){var aI,aL,aK,aH,aJ=n();for(i=0;i<aJ.length;++i){aI=aJ[i];if(aI.direction==aM){aH=aM+aI.n+"axis";if(!aF[aH]&&aI.n==1){aH=aM+"axis"}if(aF[aH]){aL=aF[aH].from;aK=aF[aH].to;break}}}if(!aF[aH]){aI=aM=="x"?q[0]:aA[0];aL=aF[aM+"1"];aK=aF[aM+"2"]}if(aL!=null&&aK!=null&&aL>aK){var aG=aL;aL=aK;aK=aG}return{from:aL,to:aK,axis:aI}}function Q(){J.save();J.translate(r.left,r.top);J.fillStyle=aq(R.grid.backgroundColor,y,0,"rgba(255, 255, 255, 0)");J.fillRect(0,0,j,y);J.restore()}function ag(){var aJ;J.save();J.translate(r.left,r.top);var aL=R.grid.markings;if(aL){if(c.isFunction(aL)){var aO=av.getAxes();aO.xmin=aO.xaxis.min;aO.xmax=aO.xaxis.max;aO.ymin=aO.yaxis.min;aO.ymax=aO.yaxis.max;aL=aL(aO)}for(aJ=0;aJ<aL.length;++aJ){var aH=aL[aJ],aG=F(aH,"x"),aM=F(aH,"y");if(aG.from==null){aG.from=aG.axis.min}if(aG.to==null){aG.to=aG.axis.max}if(aM.from==null){aM.from=aM.axis.min}if(aM.to==null){aM.to=aM.axis.max}if(aG.to<aG.axis.min||aG.from>aG.axis.max||aM.to<aM.axis.min||aM.from>aM.axis.max){continue}aG.from=Math.max(aG.from,aG.axis.min);aG.to=Math.min(aG.to,aG.axis.max);aM.from=Math.max(aM.from,aM.axis.min);aM.to=Math.min(aM.to,aM.axis.max);if(aG.from==aG.to&&aM.from==aM.to){continue}aG.from=aG.axis.p2c(aG.from);aG.to=aG.axis.p2c(aG.to);aM.from=aM.axis.p2c(aM.from);aM.to=aM.axis.p2c(aM.to);if(aG.from==aG.to||aM.from==aM.to){J.beginPath();J.strokeStyle=aH.color||R.grid.markingsColor;J.lineWidth=aH.lineWidth||R.grid.markingsLineWidth;J.moveTo(aG.from,aM.from);J.lineTo(aG.to,aM.to);J.stroke()}else{J.fillStyle=aH.color||R.grid.markingsColor;J.fillRect(aG.from,aM.to,aG.to-aG.from,aM.from-aM.to)}}}var aO=n(),aQ=R.grid.borderWidth;for(var aI=0;aI<aO.length;++aI){var aF=aO[aI],aK=aF.box,aU=aF.tickLength,aR,aP,aT,aN;if(!aF.show||aF.ticks.length==0){continue}J.strokeStyle=aF.options.tickColor||c.color.parse(aF.options.color).scale("a",0.22).toString();J.lineWidth=1;if(aF.direction=="x"){aR=0;if(aU=="full"){aP=(aF.position=="top"?0:y)}else{aP=aK.top-r.top+(aF.position=="top"?aK.height:0)}}else{aP=0;if(aU=="full"){aR=(aF.position=="left"?0:j)}else{aR=aK.left-r.left+(aF.position=="left"?aK.width:0)}}if(!aF.innermost){J.beginPath();aT=aN=0;if(aF.direction=="x"){aT=j}else{aN=y}if(J.lineWidth==1){aR=Math.floor(aR)+0.5;aP=Math.floor(aP)+0.5}J.moveTo(aR,aP);J.lineTo(aR+aT,aP+aN);J.stroke()}J.beginPath();for(aJ=0;aJ<aF.ticks.length;++aJ){var aS=aF.ticks[aJ].v;aT=aN=0;if(aS<aF.min||aS>aF.max||(aU=="full"&&aQ>0&&(aS==aF.min||aS==aF.max))){continue}if(aF.direction=="x"){aR=aF.p2c(aS);aN=aU=="full"?-y:aU;if(aF.position=="top"){aN=-aN}}else{aP=aF.p2c(aS);aT=aU=="full"?-j:aU;if(aF.position=="left"){aT=-aT}}if(J.lineWidth==1){if(aF.direction=="x"){aR=Math.floor(aR)+0.5}else{aP=Math.floor(aP)+0.5}}J.moveTo(aR,aP);J.lineTo(aR+aT,aP+aN)}J.stroke()}if(aQ){J.lineWidth=aQ;J.strokeStyle=R.grid.borderColor;J.strokeRect(-aQ/2,-aQ/2,j+aQ,y+aQ)}J.restore()}function W(){J.save();c.each(n(),function(aO,aF){if(!aF.show||aF.ticks.length==0){return}var aJ=aF.box,aL=aF.font;J.fillStyle=aF.options.color;J.font=aL.style+" "+aL.variant+" "+aL.weight+" "+aL.size+"px "+aL.family;J.textAlign="start";J.textBaseline="middle";for(var aI=0;aI<aF.ticks.length;++aI){var aK=aF.ticks[aI];if(!aK.label||aK.v<aF.min||aK.v>aF.max){continue}var aN,aM,aH=0,aP;for(var aG=0;aG<aK.lines.length;++aG){aP=aK.lines[aG];if(aF.direction=="x"){aN=r.left+aF.p2c(aK.v)-aP.width/2;if(aF.position=="bottom"){aM=aJ.top+aJ.padding}else{aM=aJ.top+aJ.height-aJ.padding-aK.height}}else{aM=r.top+aF.p2c(aK.v)-aK.height/2;if(aF.position=="left"){aN=aJ.left+aJ.width-aJ.padding-aP.width}else{aN=aJ.left+aJ.padding}}aM+=aP.height/2+aH;aH+=aP.height;if(c.browser.opera){aN=Math.floor(aN);aM=Math.ceil(aM-2)}J.fillText(aP.text,aN,aM)}}if(aF.options.axisLabel){J.save();J.font=aL.style+" "+aL.variant+" "+aL.weight+" "+aL.size+"px '"+aL.family+"'";m=J.measureText(aF.options.axisLabel);h=m.height!=null?m.height:aL.size;w=m.width;if(aF.direction=="y"){if(aF.options.position=="left"){angle=-Math.PI/2;ydiff=w/2}else{angle=Math.PI/2;ydiff=-w/2;aN=aN+aJ.width-aJ.padding}aM=(aJ.height/2)+ydiff;aN=aN-h}else{angle=0}J.translate(aN,aM);J.rotate(angle);J.fillText(aF.options.axisLabel,0,0);J.restore()}});J.restore()}function d(aF){if(aF.yaxis.n<0){return}if(aF.lines.show){ax(aF)}if(aF.bars.show){e(aF)}if(aF.points.show){at(aF)}}function ax(aI){function aH(aT,aU,aM,aY,aX){var aZ=aT.points,aN=aT.pointsize,aR=null,aQ=null;J.beginPath();for(var aS=aN;aS<aZ.length;aS+=aN){var aP=aZ[aS-aN],aW=aZ[aS-aN+1],aO=aZ[aS],aV=aZ[aS+1];if(aP==null||aO==null){continue}if(aW<=aV&&aW<aX.min){if(aV<aX.min){continue}aP=(aX.min-aW)/(aV-aW)*(aO-aP)+aP;aW=aX.min}else{if(aV<=aW&&aV<aX.min){if(aW<aX.min){continue}aO=(aX.min-aW)/(aV-aW)*(aO-aP)+aP;aV=aX.min}}if(aW>=aV&&aW>aX.max){if(aV>aX.max){continue}aP=(aX.max-aW)/(aV-aW)*(aO-aP)+aP;aW=aX.max}else{if(aV>=aW&&aV>aX.max){if(aW>aX.max){continue}aO=(aX.max-aW)/(aV-aW)*(aO-aP)+aP;aV=aX.max}}if(aP<=aO&&aP<aY.min){if(aO<aY.min){continue}aW=(aY.min-aP)/(aO-aP)*(aV-aW)+aW;aP=aY.min}else{if(aO<=aP&&aO<aY.min){if(aP<aY.min){continue}aV=(aY.min-aP)/(aO-aP)*(aV-aW)+aW;aO=aY.min}}if(aP>=aO&&aP>aY.max){if(aO>aY.max){continue}aW=(aY.max-aP)/(aO-aP)*(aV-aW)+aW;aP=aY.max}else{if(aO>=aP&&aO>aY.max){if(aP>aY.max){continue}aV=(aY.max-aP)/(aO-aP)*(aV-aW)+aW;aO=aY.max}}if(aP!=aR||aW!=aQ){J.moveTo(aY.p2c(aP)+aU,aX.p2c(aW)+aM)}aR=aO;aQ=aV;J.lineTo(aY.p2c(aO)+aU,aX.p2c(aV)+aM)}J.stroke()}function aJ(aM,aU,aT){var a0=aM.points,aZ=aM.pointsize,aR=Math.min(Math.max(0,aT.min),aT.max),a1=0,aY,aX=false,aQ=1,aP=0,aV=0;while(true){if(aZ>0&&a1>a0.length+aZ){break}a1+=aZ;var a3=a0[a1-aZ],aO=a0[a1-aZ+aQ],a2=a0[a1],aN=a0[a1+aQ];if(aX){if(aZ>0&&a3!=null&&a2==null){aV=a1;aZ=-aZ;aQ=2;continue}if(aZ<0&&a1==aP+aZ){J.fill();aX=false;aZ=-aZ;aQ=1;a1=aP=aV+aZ;continue}}if(a3==null||a2==null){continue}if(a3<=a2&&a3<aU.min){if(a2<aU.min){continue}aO=(aU.min-a3)/(a2-a3)*(aN-aO)+aO;a3=aU.min}else{if(a2<=a3&&a2<aU.min){if(a3<aU.min){continue}aN=(aU.min-a3)/(a2-a3)*(aN-aO)+aO;a2=aU.min}}if(a3>=a2&&a3>aU.max){if(a2>aU.max){continue}aO=(aU.max-a3)/(a2-a3)*(aN-aO)+aO;a3=aU.max}else{if(a2>=a3&&a2>aU.max){if(a3>aU.max){continue}aN=(aU.max-a3)/(a2-a3)*(aN-aO)+aO;a2=aU.max}}if(!aX){J.beginPath();J.moveTo(aU.p2c(a3),aT.p2c(aR));aX=true}if(aO>=aT.max&&aN>=aT.max){J.lineTo(aU.p2c(a3),aT.p2c(aT.max));J.lineTo(aU.p2c(a2),aT.p2c(aT.max));continue}else{if(aO<=aT.min&&aN<=aT.min){J.lineTo(aU.p2c(a3),aT.p2c(aT.min));J.lineTo(aU.p2c(a2),aT.p2c(aT.min));continue}}var aS=a3,aW=a2;if(aO<=aN&&aO<aT.min&&aN>=aT.min){a3=(aT.min-aO)/(aN-aO)*(a2-a3)+a3;aO=aT.min}else{if(aN<=aO&&aN<aT.min&&aO>=aT.min){a2=(aT.min-aO)/(aN-aO)*(a2-a3)+a3;aN=aT.min}}if(aO>=aN&&aO>aT.max&&aN<=aT.max){a3=(aT.max-aO)/(aN-aO)*(a2-a3)+a3;aO=aT.max}else{if(aN>=aO&&aN>aT.max&&aO<=aT.max){a2=(aT.max-aO)/(aN-aO)*(a2-a3)+a3;aN=aT.max}}if(a3!=aS){J.lineTo(aU.p2c(aS),aT.p2c(aO))}J.lineTo(aU.p2c(a3),aT.p2c(aO));J.lineTo(aU.p2c(a2),aT.p2c(aN));if(a2!=aW){J.lineTo(aU.p2c(a2),aT.p2c(aN));J.lineTo(aU.p2c(aW),aT.p2c(aN))}}}J.save();J.translate(r.left,r.top);J.lineJoin="round";var aK=aI.lines.lineWidth,aF=aI.shadowSize;if(aK>0&&aF>0){J.lineWidth=aF;J.strokeStyle="rgba(0,0,0,0.1)";var aL=Math.PI/18;aH(aI.datapoints,Math.sin(aL)*(aK/2+aF/2),Math.cos(aL)*(aK/2+aF/2),aI.xaxis,aI.yaxis);J.lineWidth=aF/2;aH(aI.datapoints,Math.sin(aL)*(aK/2+aF/4),Math.cos(aL)*(aK/2+aF/4),aI.xaxis,aI.yaxis)}J.lineWidth=aK;J.strokeStyle=aI.color;var aG=ai(aI.lines,aI.color,0,y);if(aG){J.fillStyle=aG;aJ(aI.datapoints,aI.xaxis,aI.yaxis)}if(aK>0){aH(aI.datapoints,0,0,aI.xaxis,aI.yaxis)}J.restore()}function at(aI){function aL(aR,aQ,aY,aO,aW,aX,aU,aN){var aV=aR.points,aM=aR.pointsize;for(var aP=0;aP<aV.length;aP+=aM){var aT=aV[aP],aS=aV[aP+1];if(aT==null||aT<aX.min||aT>aX.max||aS<aU.min||aS>aU.max){continue}J.beginPath();aT=aX.p2c(aT);aS=aU.p2c(aS)+aO;if(aN=="circle"){J.arc(aT,aS,aQ,0,aW?Math.PI:Math.PI*2,false)}else{aN(J,aT,aS,aQ,aW)}J.closePath();if(aY){J.fillStyle=aY;J.fill()}J.stroke()}}J.save();J.translate(r.left,r.top);var aK=aI.points.lineWidth,aG=aI.shadowSize,aF=aI.points.radius,aJ=aI.points.symbol;if(aK>0&&aG>0){var aH=aG/2;J.lineWidth=aH;J.strokeStyle="rgba(0,0,0,0.1)";aL(aI.datapoints,aF,null,aH+aH/2,true,aI.xaxis,aI.yaxis,aJ);J.strokeStyle="rgba(0,0,0,0.2)";aL(aI.datapoints,aF,null,aH/2,true,aI.xaxis,aI.yaxis,aJ)}J.lineWidth=aK;J.strokeStyle=aI.color;aL(aI.datapoints,aF,ai(aI.points,aI.color),0,false,aI.xaxis,aI.yaxis,aJ);J.restore()}function G(aR,aQ,aZ,aM,aU,aJ,aH,aP,aO,aY,aV,aG){var aI,aX,aN,aT,aK,aF,aS,aL,aW;if(aV){aL=aF=aS=true;aK=false;aI=aZ;aX=aR;aT=aQ+aM;aN=aQ+aU;if(aX<aI){aW=aX;aX=aI;aI=aW;aK=true;aF=false}}else{aK=aF=aS=true;aL=false;aI=aR+aM;aX=aR+aU;aN=aZ;aT=aQ;if(aT<aN){aW=aT;aT=aN;aN=aW;aL=true;aS=false}}if(aX<aP.min||aI>aP.max||aT<aO.min||aN>aO.max){return}if(aI<aP.min){aI=aP.min;aK=false}if(aX>aP.max){aX=aP.max;aF=false}if(aN<aO.min){aN=aO.min;aL=false}if(aT>aO.max){aT=aO.max;aS=false}aI=aP.p2c(aI);aN=aO.p2c(aN);aX=aP.p2c(aX);aT=aO.p2c(aT);if(aH){aY.beginPath();aY.moveTo(aI,aN);aY.lineTo(aI,aT);aY.lineTo(aX,aT);aY.lineTo(aX,aN);aY.fillStyle=aH(aN,aT);aY.fill()}if(aG>0&&(aK||aF||aS||aL)){aY.beginPath();aY.moveTo(aI,aN+aJ);if(aK){aY.lineTo(aI,aT+aJ)}else{aY.moveTo(aI,aT+aJ)}if(aS){aY.lineTo(aX,aT+aJ)}else{aY.moveTo(aX,aT+aJ)}if(aF){aY.lineTo(aX,aN+aJ)}else{aY.moveTo(aX,aN+aJ)}if(aL){aY.lineTo(aI,aN+aJ)}else{aY.moveTo(aI,aN+aJ)}aY.stroke()}}function e(aH){function aG(aN,aM,aP,aK,aO,aR,aQ){var aS=aN.points,aJ=aN.pointsize;for(var aL=0;aL<aS.length;aL+=aJ){if(aS[aL]==null){continue}G(aS[aL],aS[aL+1],aS[aL+2],aM,aP,aK,aO,aR,aQ,J,aH.bars.horizontal,aH.bars.lineWidth)}}J.save();J.translate(r.left,r.top);J.lineWidth=aH.bars.lineWidth;J.strokeStyle=aH.color;var aF=aH.bars.align=="left"?0:-aH.bars.barWidth/2;var aI=aH.bars.fill?function(aJ,aK){return ai(aH.bars,aH.color,aJ,aK)}:null;aG(aH.datapoints,aF,aF+aH.bars.barWidth,0,aI,aH.xaxis,aH.yaxis);J.restore()}function ai(aH,aF,aG,aJ){var aI=aH.fill;if(!aI){return null}if(aH.fillColor){return aq(aH.fillColor,aG,aJ,aF)}var aK=c.color.parse(aF);aK.a=typeof aI=="number"?aI:0.4;aK.normalize();return aK.toString()}function p(){az.find(".legend").remove();if(!R.legend.show){return}var aL=[],aJ=false,aR=R.legend.labelFormatter,aQ,aN;for(var aI=0;aI<T.length;++aI){aQ=T[aI];aN=aQ.label;if(!aN){continue}if(aI%R.legend.noColumns==0){if(aJ){aL.push("</tr>")}aL.push("<tr>");aJ=true}if(aR){aN=aR(aN,aQ)}aL.push('<td class="legendColorBox"><div style="border:1px solid '+R.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+aQ.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+aN+"</td>")}if(aJ){aL.push("</tr>")}if(aL.length==0){return}var aP='<table style="font-size:smaller;color:'+R.grid.color+'">'+aL.join("")+"</table>";if(R.legend.container!=null){c(R.legend.container).html(aP)}else{var aM="",aG=R.legend.position,aH=R.legend.margin;if(aH[0]==null){aH=[aH,aH]}if(aG.charAt(0)=="n"){aM+="top:"+(aH[1]+r.top)+"px;"}else{if(aG.charAt(0)=="s"){aM+="bottom:"+(aH[1]+r.bottom)+"px;"}}if(aG.charAt(1)=="e"){aM+="right:"+(aH[0]+r.right)+"px;"}else{if(aG.charAt(1)=="w"){aM+="left:"+(aH[0]+r.left)+"px;"}}var aO=c('<div class="legend">'+aP.replace('style="','style="position:absolute;'+aM+";")+"</div>").appendTo(az);if(R.legend.backgroundOpacity!=0){var aK=R.legend.backgroundColor;if(aK==null){aK=R.grid.backgroundColor;if(aK&&typeof aK=="string"){aK=c.color.parse(aK)}else{aK=c.color.extract(aO,"background-color")}aK.a=1;aK=aK.toString()}var aF=aO.children();c('<div style="position:absolute;width:'+aF.width()+"px;height:"+aF.height()+"px;"+aM+"background-color:"+aK+';"> </div>').prependTo(aO).css("opacity",R.legend.backgroundOpacity)}}}var af=[],O=null;function M(aM,aK,aH){var aR=R.grid.mouseActiveRadius,a2=aR*aR+1,a0=null,aU=false,aY,aW;for(aY=T.length-1;aY>=0;--aY){if(!aH(T[aY])){continue}if(T[aY].yaxis.n<0){continue}var aS=T[aY],aL=aS.xaxis,aJ=aS.yaxis,aX=aS.datapoints.points,aV=aS.datapoints.pointsize,aT=aL.c2p(aM),aQ=aJ.c2p(aK),aG=aR/aL.scale,aF=aR/aJ.scale;if(aL.options.inverseTransform){aG=Number.MAX_VALUE}if(aJ.options.inverseTransform){aF=Number.MAX_VALUE}if(aS.lines.show||aS.points.show){for(aW=0;aW<aX.length;aW+=aV){var aO=aX[aW],aN=aX[aW+1];if(aO==null){continue}if(aO-aT>aG||aO-aT<-aG||(aN-aQ>aF||aN-aQ<-aF)&&!R.grid.mouseActiveIgnoreY){continue}var aP=Math.abs(aL.p2c(aO)-aM);dy=R.grid.mouseActiveIgnoreY?0:Math.abs(aJ.p2c(aN)-aK);dist=aP*aP+dy*dy;if(dist<a2){a2=dist;a0=[aY,aW/aV]}}}if(aS.bars.show&&!a0){var aI=aS.bars.align=="left"?0:-aS.bars.barWidth/2,aZ=aI+aS.bars.barWidth;for(aW=0;aW<aX.length;aW+=aV){var aO=aX[aW],aN=aX[aW+1],a1=aX[aW+2];if(aO==null){continue}if(T[aY].bars.horizontal?(aT<=Math.max(a1,aO)&&aT>=Math.min(a1,aO)&&aQ>=aN+aI&&aQ<=aN+aZ):(aT>=aO+aI&&aT<=aO+aZ&&aQ>=Math.min(a1,aN)&&aQ<=Math.max(a1,aN))){a0=[aY,aW/aV]}}}}if(a0){aY=a0[0];aW=a0[1];aV=T[aY].datapoints.pointsize;return{datapoint:T[aY].datapoints.points.slice(aW*aV,(aW+1)*aV),dataIndex:aW,series:T[aY],seriesIndex:aY}}return null}function ae(aF){if(R.grid.hoverable){v("plothover",aF,function(aG){return aG.hoverable!=false})}}function l(aF){if(R.grid.hoverable){v("plothover",aF,function(aG){return false})}}function U(aF){v("plotclick",aF,function(aG){return aG.clickable!=false})}function v(aG,aF,aH){var aI=A.offset(),aL=aF.pageX-aI.left-r.left,aJ=aF.pageY-aI.top-r.top,aN=E({left:aL,top:aJ});aN.pageX=aF.pageX;aN.pageY=aF.pageY;var aO=M(aL,aJ,aH);if(aO){aO.pageX=parseInt(aO.series.xaxis.p2c(aO.datapoint[0])+aI.left+r.left);aO.pageY=parseInt(aO.series.yaxis.p2c(aO.datapoint[1])+aI.top+r.top)}if(R.grid.autoHighlight){for(var aK=0;aK<af.length;++aK){var aM=af[aK];if(aM.auto==aG&&!(aO&&aM.series==aO.series&&aM.point[0]==aO.datapoint[0]&&aM.point[1]==aO.datapoint[1])){X(aM.series,aM.point)}}if(aO){if(R.grid.mouseActiveIgnoreY){for(aK=0;aK<T.length;++aK){z(aK,aO.dataIndex,aG)}}else{z(aO.series,aO.datapoint,aG)}}}az.trigger(aG,[aN,aO,az,aF])}function f(){var aF=R.interaction.redrawOverlayInterval;if(aF==-1){t();return}if(!O){O=setTimeout(t,aF)}}function t(){O=null;C.save();C.clearRect(0,0,I,K);C.translate(r.left,r.top);var aG,aF;for(aG=0;aG<af.length;++aG){aF=af[aG];if(aF.series.bars.show){x(aF.series,aF.point)}else{aC(aF.series,aF.point)}}C.restore();ar(ao.drawOverlay,[C])}function z(aH,aF,aJ){if(typeof aH=="number"){aH=T[aH]}if(typeof aF=="number"){var aI=aH.datapoints.pointsize;aF=aH.datapoints.points.slice(aI*aF,aI*(aF+1))}var aG=ap(aH,aF);if(aG==-1){af.push({series:aH,point:aF,auto:aJ});f()}else{if(!aJ){af[aG].auto=false}}}function X(aH,aF){if(aH==null&&aF==null){af=[];f()}if(typeof aH=="number"){aH=T[aH]}if(typeof aF=="number"){aF=aH.data[aF]}var aG=ap(aH,aF);if(aG!=-1){af.splice(aG,1);f()}}function ap(aH,aI){for(var aF=0;aF<af.length;++aF){var aG=af[aF];if(aG.series==aH&&aG.point[0]==aI[0]&&aG.point[1]==aI[1]){return aF}}return -1}function aC(aI,aH){var aG=aH[0],aM=aH[1],aL=aI.xaxis,aK=aI.yaxis;if(aG<aL.min||aG>aL.max||aM<aK.min||aM>aK.max){return}var aJ=aI.points.radius+aI.points.lineWidth/2;C.lineWidth=aJ;C.strokeStyle=c.color.parse(aI.color).scale("a",0.5).toString();var aF=1.5*aJ,aG=aL.p2c(aG),aM=aK.p2c(aM);C.beginPath();if(aI.points.symbol=="circle"){C.arc(aG,aM,aF,0,2*Math.PI,false)}else{aI.points.symbol(C,aG,aM,aF,false)}C.closePath();C.stroke()}function x(aI,aF){C.lineWidth=aI.bars.lineWidth;C.strokeStyle=c.color.parse(aI.color).scale("a",0.5).toString();var aH=c.color.parse(aI.color).scale("a",0.5).toString();var aG=aI.bars.align=="left"?0:-aI.bars.barWidth/2;G(aF[0],aF[1],aF[2]||0,aG,aG+aI.bars.barWidth,0,function(){return aH},aI.xaxis,aI.yaxis,C,aI.bars.horizontal,aI.bars.lineWidth)}function aq(aN,aF,aL,aG){if(typeof aN=="string"){return aN}else{var aM=J.createLinearGradient(0,aL,0,aF);for(var aI=0,aH=aN.colors.length;aI<aH;++aI){var aJ=aN.colors[aI];if(typeof aJ!="string"){var aK=c.color.parse(aG);if(aJ.brightness!=null){aK=aK.scale("rgb",aJ.brightness)}if(aJ.opacity!=null){aK.a*=aJ.opacity}aJ=aK.toString()}aM.addColorStop(aI/(aH-1),aJ)}return aM}}}c.plot=function(g,e,d){var f=new b(c(g),e,d,c.plot.plugins);return f};c.plot.version="0.7";c.plot.plugins=[];c.plot.formatDate=function(n,f,j){var q=function(d){d=""+d;return d.length==1?"0"+d:d};var e=[];var s=false,k=false;var p=n.getUTCHours();var l=p<12;if(j==null){j=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}if(f.search(/%p|%P/)!=-1){if(p>12){p=p-12}else{if(p==0){p=12}}}for(var g=0;g<f.length;++g){var o=f.charAt(g);if(s){switch(o){case"h":o=""+p;break;case"H":o=q(p);break;case"M":o=q(n.getUTCMinutes());break;case"S":o=q(n.getUTCSeconds());break;case"d":o=""+n.getUTCDate();break;case"m":o=""+(n.getUTCMonth()+1);break;case"y":o=""+n.getUTCFullYear();break;case"b":o=""+j[n.getUTCMonth()];break;case"p":o=(l)?("am"):("pm");break;case"P":o=(l)?("AM"):("PM");break;case"0":o="";k=true;break}if(o&&k){o=q(o);k=false}e.push(o);if(!k){s=false}}else{if(o=="%"){s=true}else{e.push(o)}}}return e.join("")};function a(e,d){return d*Math.floor(e/d)}})(jQuery);