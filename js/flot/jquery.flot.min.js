/* Javascript plotting library for jQuery, v. 0.7.
 *
 * Released under the MIT license by IOLA, December 2007.
 *
 */
(function(b){b.color={};b.color.make=function(d,e,g,f){var c={};c.r=d||0;c.g=e||0;c.b=g||0;c.a=f!=null?f:1;c.add=function(j,k){for(var l=0;l<j.length;++l){c[j.charAt(l)]+=k}return c.normalize()};c.scale=function(j,k){for(var l=0;l<j.length;++l){c[j.charAt(l)]*=k}return c.normalize()};c.toString=function(){if(c.a>=1){return"rgb("+[c.r,c.g,c.b].join(",")+")"}else{return"rgba("+[c.r,c.g,c.b,c.a].join(",")+")"}};c.normalize=function(){function j(l,k,n){return k<l?l:(k>n?n:k)}c.r=j(0,parseInt(c.r),255);c.g=j(0,parseInt(c.g),255);c.b=j(0,parseInt(c.b),255);c.a=j(0,c.a,1);return c};c.clone=function(){return b.color.make(c.r,c.b,c.g,c.a)};return c.normalize()};b.color.extract=function(d,e){var c;do{c=d.css(e).toLowerCase();if(c!=""&&c!="transparent"){break}d=d.parent()}while(!b.nodeName(d.get(0),"body"));if(c=="rgba(0, 0, 0, 0)"){c="transparent"}return b.color.parse(c)};b.color.parse=function(c){var d,f=b.color.make;if(d=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(c)){return f(parseInt(d[1],10),parseInt(d[2],10),parseInt(d[3],10))}if(d=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(c)){return f(parseInt(d[1],10),parseInt(d[2],10),parseInt(d[3],10),parseFloat(d[4]))}if(d=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(c)){return f(parseFloat(d[1])*2.55,parseFloat(d[2])*2.55,parseFloat(d[3])*2.55)}if(d=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(c)){return f(parseFloat(d[1])*2.55,parseFloat(d[2])*2.55,parseFloat(d[3])*2.55,parseFloat(d[4]))}if(d=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(c)){return f(parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16))}if(d=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(c)){return f(parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16))}var e=b.trim(c).toLowerCase();if(e=="transparent"){return f(255,255,255,0)}else{d=a[e]||[0,0,0];return f(d[0],d[1],d[2])}};var a={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery);(function(c){function b(aA,an,M,ak){var U=[],S={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:true,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:0.85,type:"html"},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,labelAngle:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null,monthNames:null,timeformat:null,twelveHourClock:false},yaxis:{autoscaleMargin:0.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:false,radius:3,lineWidth:2,fill:true,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:false,fillColor:null,steps:false},bars:{show:false,lineWidth:2,barWidth:1,fill:true,fillColor:null,align:"left",horizontal:false},shadowSize:3,highlightColor:null},grid:{show:true,aboveData:false,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:false,hoverable:false,autoHighlight:true,mouseActiveRadius:10,mouseActiveIgnoreY:false},interaction:{redrawOverlayInterval:1000/60},hooks:{}},aE=null,ai=null,A=null,K=null,C=null,q=[],aB=[],r={left:0,right:0,top:0,bottom:0},J=0,L=0,j=0,y=0,ap={processOptions:[],processRawData:[],processDatapoints:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},aw=this;aw.setData=ao;aw.setupGrid=u;aw.draw=ab;aw.getPlaceholder=function(){return aA};aw.getCanvas=function(){return aE};aw.getPlotOffset=function(){return r};aw.width=function(){return j};aw.height=function(){return y};aw.offset=function(){var aG=A.offset();aG.left+=r.left;aG.top+=r.top;return aG};aw.getData=function(){return U};aw.getAxes=function(){var aH={},aG;c.each(q.concat(aB),function(aI,aJ){if(aJ){aH[aJ.direction+(aJ.n!=1?aJ.n:"")+"axis"]=aJ}});return aH};aw.getXAxes=function(){return q};aw.getYAxes=function(){return aB};aw.c2p=F;aw.p2c=ax;aw.getOptions=function(){return S};aw.highlight=z;aw.unhighlight=Y;aw.triggerRedrawOverlay=f;aw.pointOffset=function(aG){return{left:parseInt(q[aF(aG,"x")-1].p2c(+aG.x)+r.left),top:parseInt(aB[aF(aG,"y")-1].p2c(+aG.y)+r.top)}};aw.shutdown=al;aw.resize=function(){E();g(aE);g(ai)};aw.hooks=ap;I(aw);ae(M);ac();ao(an);u();ab();am();p();function at(aI,aG){aG=[aw].concat(aG);for(var aH=0;aH<aI.length;++aH){aI[aH].apply(this,aG)}}function I(){for(var aG=0;aG<ak.length;++aG){var aH=ak[aG];aH.init(aw);if(aH.options){c.extend(true,S,aH.options)}}}function ae(aH){var aG;c.extend(true,S,aH);if(S.xaxis.color==null){S.xaxis.color=S.grid.color}if(S.yaxis.color==null){S.yaxis.color=S.grid.color}if(S.xaxis.tickColor==null){S.xaxis.tickColor=S.grid.tickColor}if(S.yaxis.tickColor==null){S.yaxis.tickColor=S.grid.tickColor}if(S.xaxis.labelAngle!=null){S.xaxis.labelAngle=(S.xaxis.labelAngle*Math.PI)/180}if(S.grid.borderColor==null){S.grid.borderColor=S.grid.color}if(S.grid.tickColor==null){S.grid.tickColor=c.color.parse(S.grid.color).scale("a",0.22).toString()}for(aG=0;aG<Math.max(1,S.xaxes.length);++aG){S.xaxes[aG]=c.extend(true,{},S.xaxis,S.xaxes[aG])}for(aG=0;aG<Math.max(1,S.yaxes.length);++aG){S.yaxes[aG]=c.extend(true,{},S.yaxis,S.yaxes[aG])}if(S.xaxis.noTicks&&S.xaxis.ticks==null){S.xaxis.ticks=S.xaxis.noTicks}if(S.yaxis.noTicks&&S.yaxis.ticks==null){S.yaxis.ticks=S.yaxis.noTicks}if(S.x2axis){S.xaxes[1]=c.extend(true,{},S.xaxis,S.x2axis);S.xaxes[1].position="top"}if(S.y2axis){S.yaxes[1]=c.extend(true,{},S.yaxis,S.y2axis);S.yaxes[1].position="right"}if(S.grid.coloredAreas){S.grid.markings=S.grid.coloredAreas}if(S.grid.coloredAreasColor){S.grid.markingsColor=S.grid.coloredAreasColor}if(S.lines){c.extend(true,S.series.lines,S.lines)}if(S.points){c.extend(true,S.series.points,S.points)}if(S.bars){c.extend(true,S.series.bars,S.bars)}if(S.shadowSize!=null){S.series.shadowSize=S.shadowSize}if(S.highlightColor!=null){S.series.highlightColor=S.highlightColor}for(aG=0;aG<S.xaxes.length;++aG){aa(q,aG+1).options=S.xaxes[aG]}for(aG=0;aG<S.yaxes.length;++aG){aa(aB,aG+1).options=S.yaxes[aG]}for(var aI in ap){if(S.hooks[aI]&&S.hooks[aI].length){ap[aI]=ap[aI].concat(S.hooks[aI])}}at(ap.processOptions,[S])}function ao(aG){U=ad(aG);aC();B()}function ad(aJ){var aH=[];for(var aG=0;aG<aJ.length;++aG){var aI=c.extend(true,{},S.series);if(aJ[aG].data!=null){aI.data=aJ[aG].data;delete aJ[aG].data;c.extend(true,aI,aJ[aG]);aJ[aG].data=aI.data}else{aI.data=aJ[aG]}aH.push(aI)}return aH}function aF(aH,aI){var aG=aH[aI+"axis"];if(typeof aG=="object"){aG=aG.n}if(typeof aG!="number"){aG=1}return aG}function n(){return c.grep(q.concat(aB),function(aG){return aG})}function F(aJ){var aH={},aG,aI;for(aG=0;aG<q.length;++aG){aI=q[aG];if(aI&&aI.used){aH["x"+aI.n]=aI.c2p(aJ.left)}}for(aG=0;aG<aB.length;++aG){aI=aB[aG];if(aI&&aI.used){aH["y"+aI.n]=aI.c2p(aJ.top)}}if(aH.x1!==undefined){aH.x=aH.x1}if(aH.y1!==undefined){aH.y=aH.y1}return aH}function ax(aK){var aI={},aH,aJ,aG;for(aH=0;aH<q.length;++aH){aJ=q[aH];if(aJ&&aJ.used){aG="x"+aJ.n;if(aK[aG]==null&&aJ.n==1){aG="x"}if(aK[aG]!=null){aI.left=aJ.p2c(aK[aG]);break}}}for(aH=0;aH<aB.length;++aH){aJ=aB[aH];if(aJ&&aJ.used){aG="y"+aJ.n;if(aK[aG]==null&&aJ.n==1){aG="y"}if(aK[aG]!=null){aI.top=aJ.p2c(aK[aG]);break}}}return aI}function aa(aH,aG){if(!aH[aG-1]){aH[aG-1]={n:aG,direction:aH==q?"x":"y",options:c.extend(true,{},aH==q?S.xaxis:S.yaxis)}}return aH[aG-1]}function aC(){var aL;var aR=U.length,aG=[],aJ=[];for(aL=0;aL<U.length;++aL){var aO=U[aL].color;if(aO!=null){--aR;if(typeof aO=="number"){aJ.push(aO)}else{aG.push(c.color.parse(U[aL].color))}}}for(aL=0;aL<aJ.length;++aL){aR=Math.max(aR,aJ[aL]+1)}var aH=[],aK=0;aL=0;while(aH.length<aR){var aN;if(S.colors.length==aL){aN=c.color.make(100,100,100)}else{aN=c.color.parse(S.colors[aL])}var aI=aK%2==1?-1:1;aN.scale("rgb",1+aI*Math.ceil(aK/2)*0.2);aH.push(aN);++aL;if(aL>=S.colors.length){aL=0;++aK}}var aM=0,aS;for(aL=0;aL<U.length;++aL){aS=U[aL];if(aS.color==null){aS.color=aH[aM].toString();++aM}else{if(typeof aS.color=="number"){aS.color=aH[aS.color].toString()}}if(aS.lines.show==null){var aQ,aP=true;for(aQ in aS){if(aS[aQ]&&aS[aQ].show){aP=false;break}}if(aP){aS.lines.show=true}}aS.xaxis=aa(q,aF(aS,"x"));aS.yaxis=aa(aB,aF(aS,"y"))}}function B(){var aT=Number.POSITIVE_INFINITY,aN=Number.NEGATIVE_INFINITY,aG=Number.MAX_VALUE,aZ,aX,aW,aS,aI,aO,aY,aU,aM,aL,aH,a5,a2,aQ;function aK(a8,a7,a6){if(a7<a8.datamin&&a7!=-aG){a8.datamin=a7}if(a6>a8.datamax&&a6!=aG){a8.datamax=a6}}c.each(n(),function(a6,a7){a7.datamin=aT;a7.datamax=aN;a7.used=false});for(aZ=0;aZ<U.length;++aZ){aO=U[aZ];aO.datapoints={points:[]};at(ap.processRawData,[aO,aO.data,aO.datapoints])}for(aZ=0;aZ<U.length;++aZ){aO=U[aZ];var a4=aO.data,a1=aO.datapoints.format;if(!a1){a1=[];a1.push({x:true,number:true,required:true});a1.push({y:true,number:true,required:true});if(aO.bars.show||(aO.lines.show&&aO.lines.fill)){a1.push({y:true,number:true,required:false,defaultValue:0});if(aO.bars.horizontal){delete a1[a1.length-1].y;a1[a1.length-1].x=true}}aO.datapoints.format=a1}if(aO.datapoints.pointsize!=null){continue}aO.datapoints.pointsize=a1.length;aU=aO.datapoints.pointsize;aY=aO.datapoints.points;insertSteps=aO.lines.show&&aO.lines.steps;aO.xaxis.used=aO.yaxis.used=true;for(aX=aW=0;aX<a4.length;++aX,aW+=aU){aQ=a4[aX];var aJ=aQ==null;if(!aJ){for(aS=0;aS<aU;++aS){a5=aQ[aS];a2=a1[aS];if(a2){if(a2.number&&a5!=null){a5=+a5;if(isNaN(a5)){a5=null}else{if(a5==Infinity){a5=aG}else{if(a5==-Infinity){a5=-aG}}}}if(a5==null){if(a2.required){aJ=true}if(a2.defaultValue!=null){a5=a2.defaultValue}}}aY[aW+aS]=a5}}if(aJ){for(aS=0;aS<aU;++aS){a5=aY[aW+aS];if(a5!=null){a2=a1[aS];if(a2.x){aK(aO.xaxis,a5,a5)}if(a2.y){aK(aO.yaxis,a5,a5)}}aY[aW+aS]=null}}else{if(insertSteps&&aW>0&&aY[aW-aU]!=null&&aY[aW-aU]!=aY[aW]&&aY[aW-aU+1]!=aY[aW+1]){for(aS=0;aS<aU;++aS){aY[aW+aU+aS]=aY[aW+aS]}aY[aW+1]=aY[aW-aU+1];aW+=aU}}}}for(aZ=0;aZ<U.length;++aZ){aO=U[aZ];at(ap.processDatapoints,[aO,aO.datapoints])}for(aZ=0;aZ<U.length;++aZ){aO=U[aZ];aY=aO.datapoints.points,aU=aO.datapoints.pointsize;a1=aO.datapoints.format;var aP=aT,aV=aT,aR=aN,a0=aN;for(aX=0;aX<aY.length;aX+=aU){if(aY[aX]==null){continue}for(aS=0;aS<aU;++aS){a5=aY[aX+aS];a2=a1[aS];if(!a2||a5==aG||a5==-aG){continue}if(a2.x){if(a5<aP){aP=a5}if(a5>aR){aR=a5}}if(a2.y){if(a5<aV){aV=a5}if(a5>a0){a0=a5}}}}if(aO.bars.show){var a3=aO.bars.align=="left"?0:-aO.bars.barWidth/2;if(aO.bars.horizontal){aV+=a3;a0+=a3+aO.bars.barWidth}else{aP+=a3;aR+=a3+aO.bars.barWidth}}aK(aO.xaxis,aP,aR);aK(aO.yaxis,aV,a0)}c.each(n(),function(a6,a7){if(a7.datamin==aT){a7.datamin=null}if(a7.datamax==aN){a7.datamax=null}})}function k(aG,aH){var aI=document.createElement("canvas");aI.className=aH;aI.width=J;aI.height=L;if(!aG){c(aI).css({position:"absolute",left:0,top:0})}c(aI).appendTo(aA);if(!aI.getContext){aI=window.G_vmlCanvasManager.initElement(aI)}aI.getContext("2d").save();return aI}function E(){J=aA.width();L=aA.height();if(J<=0||L<=0){throw"Invalid dimensions for plot, width = "+J+", height = "+L}}function g(aH){if(aH.width!=J){aH.width=J}if(aH.height!=L){aH.height=L}var aG=aH.getContext("2d");aG.restore();aG.save()}function ac(){var aH,aG=aA.children("canvas.flot-base"),aI=aA.children("canvas.flot-overlay");if(aG.length==0||aI==0){aA.html("");aA.css({padding:0});if(aA.css("position")=="static"){aA.css("position","relative")}E();aE=k(true,"flot-base");ai=k(false,"flot-overlay");aH=false}else{aE=aG.get(0);ai=aI.get(0);aH=true}K=aE.getContext("2d");C=ai.getContext("2d");A=c(ai);if(aH){aA.data("plot").shutdown();aw.resize();C.clearRect(0,0,J,L);A.unbind();aA.children().not([aE,ai]).remove()}aA.data("plot",aw)}function am(){if(S.grid.hoverable){A.mousemove(af);A.mouseleave(l)}if(S.grid.clickable){A.click(V)}at(ap.bindEvents,[A])}function al(){if(P){clearTimeout(P)}A.unbind("mousemove",af);A.unbind("mouseleave",l);A.unbind("click",V);at(ap.shutdown,[A])}function s(aL){function aH(aM){return aM}var aK,aG,aI=aL.options.transform||aH,aJ=aL.options.inverseTransform;if(aL.direction=="x"){aK=aL.scale=j/Math.abs(aI(aL.max)-aI(aL.min));aG=Math.min(aI(aL.max),aI(aL.min))}else{aK=aL.scale=y/Math.abs(aI(aL.max)-aI(aL.min));aK=-aK;aG=Math.max(aI(aL.max),aI(aL.min))}if(aI==aH){aL.p2c=function(aM){return(aM-aG)*aK}}else{aL.p2c=function(aM){return(aI(aM)-aG)*aK}}if(!aJ){aL.c2p=function(aM){return aG+aM/aK}}else{aL.c2p=function(aM){return aJ(aG+aM/aK)}}}function O(aJ){var aO=aJ.options,aX=aJ.ticks||[],aK=aO.labelWidth||0,aR=aO.labelHeight||0,aV=aJ.font;K.save();K.font=aV.style+" "+aV.variant+" "+aV.weight+" "+aV.size+"px '"+aV.family+"'";for(var aT=0;aT<aX.length;++aT){var aN=aX[aT];aN.lines=[];aN.width=aN.height=0;if(!aN.label){continue}var aH=aN.label.replace(/<br ?\/?>|\r\n|\r/g,"\n").split("\n");for(var aS=0;aS<aH.length;++aS){var aL={text:aH[aS]},aQ=K.measureText(aL.text);aL.width=aQ.width;aL.height=aQ.height!=null?aQ.height:aV.size;var aW=aO.labelAngle;if(aW){var aP=Math.abs,aG=Math.sin,aI=Math.cos,aM=aL.width,aU=aL.height;aL.height=aP(aM*aG(aW))+aP(aU*aI(aW));aL.width=aP(aM*aI(aW))+aP(aU*aG(aW))}aL.height+=Math.round(aV.size*0.15);aN.width=Math.max(aL.width,aN.width);aN.height+=aL.height;aN.lines.push(aL)}if(aO.labelWidth==null){aK=Math.max(aK,aN.width)}if(aO.labelHeight==null){aR=Math.max(aR,aN.height)}}K.restore();if(aO.axisLabel){K.save();K.font=aV.style+" "+aV.variant+" "+aV.weight+" "+aV.size+"px '"+aV.family+"'";aQ=K.measureText(aO.axisLabel);aU=aQ.height!=null?aQ.height:aV.size;aK=aK+aU;K.restore();if(aJ.direction=="y"){aK=aK+aU}else{aR=aR+aU}}aJ.labelWidth=Math.ceil(aK);aJ.labelHeight=Math.ceil(aR)}function az(aI){var aH=aI.labelWidth,aQ=aI.labelHeight,aM=aI.options.position,aK=aI.options.tickLength,aL=S.grid.axisMargin,aO=S.grid.labelMargin,aP=aI.direction=="x"?q:aB,aJ;var aG=c.grep(aP,function(aS){return aS&&aS.options.position==aM&&aS.reserveSpace});if(c.inArray(aI,aG)==aG.length-1){aL=0}if(aK==null){var aN=c.grep(aP,function(aS){return aS&&aS.reserveSpace});var aR=c.inArray(aI,aN)==0;if(aR){aK="full"}else{aK=5}}if(!isNaN(+aK)){aO+=+aK}if(aI.direction=="x"){aQ+=aO;if(aM=="bottom"){r.bottom+=aQ+aL;aI.box={top:L-r.bottom,height:aQ}}else{aI.box={top:r.top+aL,height:aQ};r.top+=aQ+aL}}else{aH+=aO;if(aM=="left"){aI.box={left:r.left+aL,width:aH};r.left+=aH+aL}else{r.right+=aH+aL;aI.box={left:J-r.right,width:aH}}}aI.position=aM;aI.tickLength=aK;aI.box.padding=aO;aI.innermost=aR}function Z(aG){if(aG.direction=="x"){aG.box.left=r.left-aG.labelWidth/2;aG.box.width=J-r.left-r.right+aG.labelWidth}else{aG.box.top=r.top-aG.labelHeight/2;aG.box.height=L-r.bottom-r.top+aG.labelHeight}}function Q(){var aI=S.grid.minBorderMargin,aJ={x:0,y:0},aG,aH;if(aI==null){aI=0;for(aG=0;aG<U.length;++aG){aI=Math.max(aI,2*(U[aG].points.radius+U[aG].points.lineWidth/2))}}aJ.x=aJ.y=Math.ceil(aI);c.each(n(),function(aL,aM){var aK=aM.direction;if(aM.reserveSpace){aJ[aK]=Math.ceil(Math.max(aJ[aK],(aK=="x"?aM.labelWidth:aM.labelHeight)/2))}});r.left=Math.max(aJ.x,r.left);r.right=Math.max(aJ.x,r.right);r.top=Math.max(aJ.y,r.top);r.bottom=Math.max(aJ.y,r.bottom)}function u(){var aI,aK=n(),aL=S.grid.show;for(var aH in r){r[aH]=aL?S.grid.borderWidth:0}c.each(aK,function(aM,aN){aN.show=aN.options.show;if(aN.show==null){aN.show=aN.used}aN.reserveSpace=aN.show||aN.options.reserveSpace;o(aN)});if(aL){var aJ={style:aA.css("font-style"),size:Math.round(0.8*(+aA.css("font-size").replace("px","")||13)),variant:aA.css("font-variant"),weight:aA.css("font-weight"),family:aA.css("font-family")};var aG=c.grep(aK,function(aM){return aM.reserveSpace});c.each(aG,function(aM,aN){W(aN);T(aN);av(aN,aN.ticks);aN.font=c.extend({},aJ,aN.options.font);O(aN)});for(aI=aG.length-1;aI>=0;--aI){az(aG[aI])}Q();c.each(aG,function(aM,aN){Z(aN)})}j=J-r.left-r.right;y=L-r.bottom-r.top;c.each(aK,function(aM,aN){s(aN)})}function o(aJ){var aK=aJ.options,aI=+(aK.min!=null?aK.min:aJ.datamin),aG=+(aK.max!=null?aK.max:aJ.datamax),aM=aG-aI;if(aM==0){var aH=aG==0?1:0.01;if(aK.min==null){aI-=aH}if(aK.max==null||aK.min!=null){aG+=aH}}else{var aL=aK.autoscaleMargin;if(aL!=null){if(aK.min==null){aI-=aM*aL;if(aI<0&&aJ.datamin!=null&&aJ.datamin>=0){aI=0}}if(aK.max==null){aG+=aM*aL;if(aG>0&&aJ.datamax!=null&&aJ.datamax<=0){aG=0}}}}aJ.min=aI;aJ.max=aG}function W(aL){var aR=aL.options;var aM;if(typeof aR.ticks=="number"&&aR.ticks>0){aM=aR.ticks}else{aM=(0.3+(aR.labelAngle?Math.abs(Math.sin(aR.labelAngle))*0.5:0))*Math.sqrt(aL.direction=="x"?J:L)}var aY=(aL.max-aL.min)/aM,aT,aG,aS,aW,aX,aV,aN;if(aR.mode=="time"){var aO={second:1000,minute:60*1000,hour:60*60*1000,day:24*60*60*1000,month:30*24*60*60*1000,year:365.2425*24*60*60*1000};var aP=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[0.25,"month"],[0.5,"month"],[1,"month"],[2,"month"],[3,"month"],[6,"month"],[1,"year"]];var aH=0;if(aR.minTickSize!=null){if(typeof aR.tickSize=="number"){aH=aR.tickSize}else{aH=aR.minTickSize[0]*aO[aR.minTickSize[1]]}}for(var aX=0;aX<aP.length-1;++aX){if(aY<(aP[aX][0]*aO[aP[aX][1]]+aP[aX+1][0]*aO[aP[aX+1][1]])/2&&aP[aX][0]*aO[aP[aX][1]]>=aH){break}}aT=aP[aX][0];aS=aP[aX][1];if(aS=="year"){aV=Math.pow(10,Math.floor(Math.log(aY/aO.year)/Math.LN10));aN=(aY/aO.year)/aV;if(aN<1.5){aT=1}else{if(aN<3){aT=2}else{if(aN<7.5){aT=5}else{aT=10}}}aT*=aV}aL.tickSize=aR.tickSize||[aT,aS];aG=function(a2){var a7=[],a5=a2.tickSize[0],a8=a2.tickSize[1],a6=new Date(a2.min);var a1=a5*aO[a8];if(a8=="second"){a6.setUTCSeconds(a(a6.getUTCSeconds(),a5))}if(a8=="minute"){a6.setUTCMinutes(a(a6.getUTCMinutes(),a5))}if(a8=="hour"){a6.setUTCHours(a(a6.getUTCHours(),a5))}if(a8=="month"){a6.setUTCMonth(a(a6.getUTCMonth(),a5))}if(a8=="year"){a6.setUTCFullYear(a(a6.getUTCFullYear(),a5))}a6.setUTCMilliseconds(0);if(a1>=aO.minute){a6.setUTCSeconds(0)}if(a1>=aO.hour){a6.setUTCMinutes(0)}if(a1>=aO.day){a6.setUTCHours(0)}if(a1>=aO.day*4){a6.setUTCDate(1)}if(a1>=aO.year){a6.setUTCMonth(0)}var ba=0,a9=Number.NaN,a3;do{a3=a9;a9=a6.getTime();a7.push(a9);if(a8=="month"){if(a5<1){a6.setUTCDate(1);var a0=a6.getTime();a6.setUTCMonth(a6.getUTCMonth()+1);var a4=a6.getTime();a6.setTime(a9+ba*aO.hour+(a4-a0)*a5);ba=a6.getUTCHours();a6.setUTCHours(0)}else{a6.setUTCMonth(a6.getUTCMonth()+a5)}}else{if(a8=="year"){a6.setUTCFullYear(a6.getUTCFullYear()+a5)}else{a6.setTime(a9+a1)}}}while(a9<a2.max&&a9!=a3);return a7};aW=function(a0,a3){var a5=new Date(a0);if(aR.timeformat!=null){return c.plot.formatDate(a5,aR.timeformat,aR.monthNames)}var a1=a3.tickSize[0]*aO[a3.tickSize[1]];var a2=a3.max-a3.min;var a4=(aR.twelveHourClock)?" %p":"";if(a1<aO.minute){fmt="%h:%M:%S"+a4}else{if(a1<aO.day){if(a2<2*aO.day){fmt="%h:%M"+a4}else{fmt="%b %d %h:%M"+a4}}else{if(a1<aO.month){fmt="%b %d"}else{if(a1<aO.year){if(a2<aO.year){fmt="%b"}else{fmt="%b %y"}}else{fmt="%y"}}}}return c.plot.formatDate(a5,fmt,aR.monthNames)}}else{var aZ=aR.tickDecimals;var aU=-Math.floor(Math.log(aY)/Math.LN10);if(aZ!=null&&aU>aZ){aU=aZ}aV=Math.pow(10,-aU);aN=aY/aV;if(aN<1.5){aT=1}else{if(aN<3){aT=2;if(aN>2.25&&(aZ==null||aU+1<=aZ)){aT=2.5;++aU}}else{if(aN<7.5){aT=5}else{aT=10}}}aT*=aV;if(aR.minTickSize!=null&&aT<aR.minTickSize){aT=aR.minTickSize}aL.tickDecimals=Math.max(0,aZ!=null?aZ:aU);aL.tickSize=aR.tickSize||aT;aG=function(a2){var a4=[];var a5=a(a2.min,a2.tickSize),a1=0,a0=Number.NaN,a3;do{a3=a0;a0=a5+a1*a2.tickSize;a4.push(a0);++a1}while(a0<a2.max&&a0!=a3);return a4};aW=function(a0,a1){return a0.toFixed(a1.tickDecimals)}}if(aR.alignTicksWithAxis!=null){var aK=(aL.direction=="x"?q:aB)[aR.alignTicksWithAxis-1];if(aK&&aK.used&&aK!=aL){var aQ=aG(aL);if(aQ.length>0){if(aR.min==null){aL.min=Math.min(aL.min,aQ[0])}if(aR.max==null&&aQ.length>1){aL.max=Math.max(aL.max,aQ[aQ.length-1])}}aG=function(a2){var a3=[],a0,a1;for(a1=0;a1<aK.ticks.length;++a1){a0=(aK.ticks[a1].v-aK.min)/(aK.max-aK.min);a0=a2.min+a0*(a2.max-a2.min);a3.push(a0)}return a3};if(!aL.mode&&aR.tickDecimals==null){var aJ=Math.max(0,-Math.floor(Math.log(aY)/Math.LN10)+1),aI=aG(aL);if(!(aI.length>1&&/\..*0$/.test((aI[1]-aI[0]).toFixed(aJ)))){aL.tickDecimals=aJ}}}}aL.tickGenerator=aG;if(c.isFunction(aR.tickFormatter)){aL.tickFormatter=function(a0,a1){return""+aR.tickFormatter(a0,a1)}}else{aL.tickFormatter=aW}}function T(aK){var aM=aK.options.ticks,aL=[];if(aM==null||(typeof aM=="number"&&aM>0)){aL=aK.tickGenerator(aK)}else{if(aM){if(c.isFunction(aM)){aL=aM(aK)}else{aL=aM}}}var aJ,aG;aK.ticks=[];for(aJ=0;aJ<aL.length;++aJ){var aH=null;var aI=aL[aJ];if(typeof aI=="object"){aG=+aI[0];if(aI.length>1){aH=aI[1]}}else{aG=+aI}if(aH==null){aH=aK.tickFormatter(aG,aK)}if(!isNaN(aG)){aK.ticks.push({v:aG,label:aH})}}}function av(aG,aH){if(aG.options.autoscaleMargin&&aH.length>0){if(aG.options.min==null){aG.min=Math.min(aG.min,aH[0].v)}if(aG.options.max==null&&aH.length>1){aG.max=Math.max(aG.max,aH[aH.length-1].v)}}}function ab(){K.clearRect(0,0,J,L);var aH=S.grid;if(aH.show&&aH.backgroundColor){R()}if(aH.show&&!aH.aboveData){ah();X()}for(var aG=0;aG<U.length;++aG){at(ap.drawSeries,[K,U[aG]]);d(U[aG])}at(ap.draw,[K]);if(aH.show&&aH.aboveData){ah();X()}}function G(aG,aN){var aJ,aM,aL,aI,aK=n();for(i=0;i<aK.length;++i){aJ=aK[i];if(aJ.direction==aN){aI=aN+aJ.n+"axis";if(!aG[aI]&&aJ.n==1){aI=aN+"axis"}if(aG[aI]){aM=aG[aI].from;aL=aG[aI].to;break}}}if(!aG[aI]){aJ=aN=="x"?q[0]:aB[0];aM=aG[aN+"1"];aL=aG[aN+"2"]}if(aM!=null&&aL!=null&&aM>aL){var aH=aM;aM=aL;aL=aH}return{from:aM,to:aL,axis:aJ}}function R(){K.save();K.translate(r.left,r.top);K.fillStyle=ar(S.grid.backgroundColor,y,0,"rgba(255, 255, 255, 0)");K.fillRect(0,0,j,y);K.restore()}function ah(){var aK;K.save();K.translate(r.left,r.top);var aM=S.grid.markings;if(aM){if(c.isFunction(aM)){var aP=aw.getAxes();aP.xmin=aP.xaxis.min;aP.xmax=aP.xaxis.max;aP.ymin=aP.yaxis.min;aP.ymax=aP.yaxis.max;aM=aM(aP)}for(aK=0;aK<aM.length;++aK){var aI=aM[aK],aH=G(aI,"x"),aN=G(aI,"y");if(aH.from==null){aH.from=aH.axis.min}if(aH.to==null){aH.to=aH.axis.max}if(aN.from==null){aN.from=aN.axis.min}if(aN.to==null){aN.to=aN.axis.max}if(aH.to<aH.axis.min||aH.from>aH.axis.max||aN.to<aN.axis.min||aN.from>aN.axis.max){continue}aH.from=Math.max(aH.from,aH.axis.min);aH.to=Math.min(aH.to,aH.axis.max);aN.from=Math.max(aN.from,aN.axis.min);aN.to=Math.min(aN.to,aN.axis.max);if(aH.from==aH.to&&aN.from==aN.to){continue}aH.from=aH.axis.p2c(aH.from);aH.to=aH.axis.p2c(aH.to);aN.from=aN.axis.p2c(aN.from);aN.to=aN.axis.p2c(aN.to);if(aH.from==aH.to||aN.from==aN.to){K.beginPath();K.strokeStyle=aI.color||S.grid.markingsColor;K.lineWidth=aI.lineWidth||S.grid.markingsLineWidth;K.moveTo(aH.from,aN.from);K.lineTo(aH.to,aN.to);K.stroke()}else{K.fillStyle=aI.color||S.grid.markingsColor;K.fillRect(aH.from,aN.to,aH.to-aH.from,aN.from-aN.to)}}}var aP=n(),aR=S.grid.borderWidth;for(var aJ=0;aJ<aP.length;++aJ){var aG=aP[aJ],aL=aG.box,aV=aG.tickLength,aS,aQ,aU,aO;if(!aG.show||aG.ticks.length==0){continue}K.strokeStyle=aG.options.tickColor||c.color.parse(aG.options.color).scale("a",0.22).toString();K.lineWidth=1;if(aG.direction=="x"){aS=0;if(aV=="full"){aQ=(aG.position=="top"?0:y)}else{aQ=aL.top-r.top+(aG.position=="top"?aL.height:0)}}else{aQ=0;if(aV=="full"){aS=(aG.position=="left"?0:j)}else{aS=aL.left-r.left+(aG.position=="left"?aL.width:0)}}if(!aG.innermost){K.beginPath();aU=aO=0;if(aG.direction=="x"){aU=j}else{aO=y}if(K.lineWidth==1){aS=Math.floor(aS)+0.5;aQ=Math.floor(aQ)+0.5}K.moveTo(aS,aQ);K.lineTo(aS+aU,aQ+aO);K.stroke()}K.beginPath();for(aK=0;aK<aG.ticks.length;++aK){var aT=aG.ticks[aK].v;aU=aO=0;if(aT<aG.min||aT>aG.max||(aV=="full"&&aR>0&&(aT==aG.min||aT==aG.max))){continue}if(aG.direction=="x"){aS=aG.p2c(aT);aO=aV=="full"?-y:aV;if(aG.position=="top"){aO=-aO}}else{aQ=aG.p2c(aT);aU=aV=="full"?-j:aV;if(aG.position=="left"){aU=-aU}}if(K.lineWidth==1){if(aG.direction=="x"){aS=Math.floor(aS)+0.5}else{aQ=Math.floor(aQ)+0.5}}K.moveTo(aS,aQ);K.lineTo(aS+aU,aQ+aO)}K.stroke()}if(aR){K.lineWidth=aR;K.strokeStyle=S.grid.borderColor;K.strokeRect(-aR/2,-aR/2,j+aR,y+aR)}K.restore()}function X(){K.save();c.each(n(),function(aS,aH){if(!aH.show||aH.ticks.length==0){return}var aM=aH.box,aO=aH.font;K.fillStyle=aH.options.color;K.font=aO.style+" "+aO.variant+" "+aO.weight+" "+aO.size+"px "+aO.family;K.textAlign="start";K.textBaseline="middle";for(var aL=0;aL<aH.ticks.length;++aL){var aN=aH.ticks[aL];if(!aN.label||aN.v<aH.min||aN.v>aH.max){continue}var aR,aQ,aK=0,aT,aI;for(var aJ=0;aJ<aN.lines.length;++aJ){aT=aN.lines[aJ];aI=aH.options.labelAngle;if(aI){K.save();aR=r.left+aH.p2c(aN.v);aQ=aM.top+2*aM.padding;var aG=Math.sin(aI);var aP=Math.cos(aI);if(aG<0&&aP<0){aR+=aT.width-2*aM.padding;aQ+=aT.height-2*aM.padding}else{if(aG<0&&aP>0){aR-=aT.width-2*aM.padding;aQ+=aT.height-2*aM.padding}}K.translate(aR,aQ);K.rotate(aI);K.fillText(aT.text,0,0);K.restore()}else{if(aH.direction=="x"){aR=r.left+aH.p2c(aN.v)-aT.width/2;if(aH.position=="bottom"){aQ=aM.top+aM.padding}else{aQ=aM.top+aM.height-aM.padding-aN.height}}else{aQ=r.top+aH.p2c(aN.v)-aN.height/2;if(aH.position=="left"){aR=aM.left+aM.width-aM.padding-aT.width}else{aR=aM.left+aM.padding}}aQ+=aT.height/2+aK;aK+=aT.height;if(c.browser.opera){aR=Math.floor(aR);aQ=Math.ceil(aQ-2)}K.fillText(aT.text,aR,aQ)}}}if(aH.options.axisLabel){K.save();K.font=aO.style+" "+aO.variant+" "+aO.weight+" "+aO.size+"px '"+aO.family+"'";m=K.measureText(aH.options.axisLabel);h=m.height!=null?m.height:aO.size;w=m.width;if(aH.direction=="y"){if(aH.options.position=="left"){aI=-Math.PI/2;ydiff=w/2}else{aI=Math.PI/2;ydiff=-w/2;aR=aR+aM.width-aM.padding}aQ=(aM.height/2)+ydiff;aR=aR-h}else{aI=0}K.translate(aR,aQ);K.rotate(aI);K.fillText(aH.options.axisLabel,0,0);K.restore()}});K.restore()}function d(aG){if(aG.yaxis.n<0){return}if(aG.lines.show){ay(aG)}if(aG.bars.show){e(aG)}if(aG.points.show){au(aG)}}function ay(aJ){function aI(aU,aV,aN,aZ,aY){var a0=aU.points,aO=aU.pointsize,aS=null,aR=null;K.beginPath();for(var aT=aO;aT<a0.length;aT+=aO){var aQ=a0[aT-aO],aX=a0[aT-aO+1],aP=a0[aT],aW=a0[aT+1];if(aQ==null||aP==null){continue}if(aX<=aW&&aX<aY.min){if(aW<aY.min){continue}aQ=(aY.min-aX)/(aW-aX)*(aP-aQ)+aQ;aX=aY.min}else{if(aW<=aX&&aW<aY.min){if(aX<aY.min){continue}aP=(aY.min-aX)/(aW-aX)*(aP-aQ)+aQ;aW=aY.min}}if(aX>=aW&&aX>aY.max){if(aW>aY.max){continue}aQ=(aY.max-aX)/(aW-aX)*(aP-aQ)+aQ;aX=aY.max}else{if(aW>=aX&&aW>aY.max){if(aX>aY.max){continue}aP=(aY.max-aX)/(aW-aX)*(aP-aQ)+aQ;aW=aY.max}}if(aQ<=aP&&aQ<aZ.min){if(aP<aZ.min){continue}aX=(aZ.min-aQ)/(aP-aQ)*(aW-aX)+aX;aQ=aZ.min}else{if(aP<=aQ&&aP<aZ.min){if(aQ<aZ.min){continue}aW=(aZ.min-aQ)/(aP-aQ)*(aW-aX)+aX;aP=aZ.min}}if(aQ>=aP&&aQ>aZ.max){if(aP>aZ.max){continue}aX=(aZ.max-aQ)/(aP-aQ)*(aW-aX)+aX;aQ=aZ.max}else{if(aP>=aQ&&aP>aZ.max){if(aQ>aZ.max){continue}aW=(aZ.max-aQ)/(aP-aQ)*(aW-aX)+aX;aP=aZ.max}}if(aQ!=aS||aX!=aR){K.moveTo(aZ.p2c(aQ)+aV,aY.p2c(aX)+aN)}aS=aP;aR=aW;K.lineTo(aZ.p2c(aP)+aV,aY.p2c(aW)+aN)}K.stroke()}function aK(aN,aV,aU){var a1=aN.points,a0=aN.pointsize,aS=Math.min(Math.max(0,aU.min),aU.max),a2=0,aZ,aY=false,aR=1,aQ=0,aW=0;while(true){if(a0>0&&a2>a1.length+a0){break}a2+=a0;var a4=a1[a2-a0],aP=a1[a2-a0+aR],a3=a1[a2],aO=a1[a2+aR];if(aY){if(a0>0&&a4!=null&&a3==null){aW=a2;a0=-a0;aR=2;continue}if(a0<0&&a2==aQ+a0){K.fill();aY=false;a0=-a0;aR=1;a2=aQ=aW+a0;continue}}if(a4==null||a3==null){continue}if(a4<=a3&&a4<aV.min){if(a3<aV.min){continue}aP=(aV.min-a4)/(a3-a4)*(aO-aP)+aP;a4=aV.min}else{if(a3<=a4&&a3<aV.min){if(a4<aV.min){continue}aO=(aV.min-a4)/(a3-a4)*(aO-aP)+aP;a3=aV.min}}if(a4>=a3&&a4>aV.max){if(a3>aV.max){continue}aP=(aV.max-a4)/(a3-a4)*(aO-aP)+aP;a4=aV.max}else{if(a3>=a4&&a3>aV.max){if(a4>aV.max){continue}aO=(aV.max-a4)/(a3-a4)*(aO-aP)+aP;a3=aV.max}}if(!aY){K.beginPath();K.moveTo(aV.p2c(a4),aU.p2c(aS));aY=true}if(aP>=aU.max&&aO>=aU.max){K.lineTo(aV.p2c(a4),aU.p2c(aU.max));K.lineTo(aV.p2c(a3),aU.p2c(aU.max));continue}else{if(aP<=aU.min&&aO<=aU.min){K.lineTo(aV.p2c(a4),aU.p2c(aU.min));K.lineTo(aV.p2c(a3),aU.p2c(aU.min));continue}}var aT=a4,aX=a3;if(aP<=aO&&aP<aU.min&&aO>=aU.min){a4=(aU.min-aP)/(aO-aP)*(a3-a4)+a4;aP=aU.min}else{if(aO<=aP&&aO<aU.min&&aP>=aU.min){a3=(aU.min-aP)/(aO-aP)*(a3-a4)+a4;aO=aU.min}}if(aP>=aO&&aP>aU.max&&aO<=aU.max){a4=(aU.max-aP)/(aO-aP)*(a3-a4)+a4;aP=aU.max}else{if(aO>=aP&&aO>aU.max&&aP<=aU.max){a3=(aU.max-aP)/(aO-aP)*(a3-a4)+a4;aO=aU.max}}if(a4!=aT){K.lineTo(aV.p2c(aT),aU.p2c(aP))}K.lineTo(aV.p2c(a4),aU.p2c(aP));K.lineTo(aV.p2c(a3),aU.p2c(aO));if(a3!=aX){K.lineTo(aV.p2c(a3),aU.p2c(aO));K.lineTo(aV.p2c(aX),aU.p2c(aO))}}}K.save();K.translate(r.left,r.top);K.lineJoin="round";var aL=aJ.lines.lineWidth,aG=aJ.shadowSize;if(aL>0&&aG>0){K.lineWidth=aG;K.strokeStyle="rgba(0,0,0,0.1)";var aM=Math.PI/18;aI(aJ.datapoints,Math.sin(aM)*(aL/2+aG/2),Math.cos(aM)*(aL/2+aG/2),aJ.xaxis,aJ.yaxis);K.lineWidth=aG/2;aI(aJ.datapoints,Math.sin(aM)*(aL/2+aG/4),Math.cos(aM)*(aL/2+aG/4),aJ.xaxis,aJ.yaxis)}K.lineWidth=aL;K.strokeStyle=aJ.color;var aH=aj(aJ.lines,aJ.color,0,y);if(aH){K.fillStyle=aH;aK(aJ.datapoints,aJ.xaxis,aJ.yaxis)}if(aL>0){aI(aJ.datapoints,0,0,aJ.xaxis,aJ.yaxis)}K.restore()}function au(aJ){function aM(aU,aT,a1,aQ,aZ,a0,aX,aP,aO){var aY=aU.points,aN=aU.pointsize;if(aP=="image"){if(aQ==0){var aS=new Image();aS.src=aO;aS.onload=function(){for(var a3=0;a3<aY.length;a3+=aN){var a2=aY[a3],a4=aY[a3+1];if(a2==null||a2<a0.min||a2>a0.max||a4<aX.min||a4>aX.max){continue}a2=parseInt(a0.p2c(a2))-parseInt(aT)-parseInt(K.lineWidth*2);a4=parseInt(aX.p2c(a4))+parseInt(aT*2)-parseInt(aS.height/2)+parseInt(K.lineWidth*2);K.drawImage(aS,a2+aS.width*0.1,a4+aS.height*0.1,aS.width*0.9,aS.height*0.9)}}}}else{for(var aR=0;aR<aY.length;aR+=aN){var aW=aY[aR],aV=aY[aR+1];if(aW==null||aW<a0.min||aW>a0.max||aV<aX.min||aV>aX.max){continue}K.beginPath();aW=a0.p2c(aW);aV=aX.p2c(aV)+aQ;if(aP=="circle"){K.arc(aW,aV,aT,0,aZ?Math.PI:Math.PI*2,false)}else{aP(K,aW,aV,aT,aZ)}K.closePath();if(a1){K.fillStyle=a1;K.fill()}K.stroke()}}}K.save();K.translate(r.left,r.top);var aL=aJ.points.lineWidth,aH=aJ.shadowSize,aG=aJ.points.radius,aK=aJ.points.symbol;if(aL>0&&aH>0){var aI=aH/2;K.lineWidth=aI;K.strokeStyle="rgba(0,0,0,0.1)";aM(aJ.datapoints,aG,null,aI+aI/2,true,aJ.xaxis,aJ.yaxis,aK);K.strokeStyle="rgba(0,0,0,0.2)";aM(aJ.datapoints,aG,null,aI/2,true,aJ.xaxis,aJ.yaxis,aK)}K.lineWidth=aL;K.strokeStyle=aJ.color;aM(aJ.datapoints,aG,aj(aJ.points,aJ.color),0,false,aJ.xaxis,aJ.yaxis,aK,aJ.image);K.restore()}function H(aS,aR,a0,aN,aV,aK,aI,aQ,aP,aZ,aW,aH){var aJ,aY,aO,aU,aL,aG,aT,aM,aX;if(aW){aM=aG=aT=true;aL=false;aJ=a0;aY=aS;aU=aR+aN;aO=aR+aV;if(aY<aJ){aX=aY;aY=aJ;aJ=aX;aL=true;aG=false}}else{aL=aG=aT=true;aM=false;aJ=aS+aN;aY=aS+aV;aO=a0;aU=aR;if(aU<aO){aX=aU;aU=aO;aO=aX;aM=true;aT=false}}if(aY<aQ.min||aJ>aQ.max||aU<aP.min||aO>aP.max){return}if(aJ<aQ.min){aJ=aQ.min;aL=false}if(aY>aQ.max){aY=aQ.max;aG=false}if(aO<aP.min){aO=aP.min;aM=false}if(aU>aP.max){aU=aP.max;aT=false}aJ=aQ.p2c(aJ);aO=aP.p2c(aO);aY=aQ.p2c(aY);aU=aP.p2c(aU);if(aI){aZ.beginPath();aZ.moveTo(aJ,aO);aZ.lineTo(aJ,aU);aZ.lineTo(aY,aU);aZ.lineTo(aY,aO);aZ.fillStyle=aI(aO,aU);aZ.fill()}if(aH>0&&(aL||aG||aT||aM)){aZ.beginPath();aZ.moveTo(aJ,aO+aK);if(aL){aZ.lineTo(aJ,aU+aK)}else{aZ.moveTo(aJ,aU+aK)}if(aT){aZ.lineTo(aY,aU+aK)}else{aZ.moveTo(aY,aU+aK)}if(aG){aZ.lineTo(aY,aO+aK)}else{aZ.moveTo(aY,aO+aK)}if(aM){aZ.lineTo(aJ,aO+aK)}else{aZ.moveTo(aJ,aO+aK)}aZ.stroke()}}function e(aI){function aH(aO,aN,aQ,aL,aP,aS,aR){var aT=aO.points,aK=aO.pointsize;for(var aM=0;aM<aT.length;aM+=aK){if(aT[aM]==null){continue}H(aT[aM],aT[aM+1],aT[aM+2],aN,aQ,aL,aP,aS,aR,K,aI.bars.horizontal,aI.bars.lineWidth)}}K.save();K.translate(r.left,r.top);K.lineWidth=aI.bars.lineWidth;K.strokeStyle=aI.color;var aG=aI.bars.align=="left"?0:-aI.bars.barWidth/2;var aJ=aI.bars.fill?function(aK,aL){return aj(aI.bars,aI.color,aK,aL)}:null;aH(aI.datapoints,aG,aG+aI.bars.barWidth,0,aJ,aI.xaxis,aI.yaxis);K.restore()}function aj(aI,aG,aH,aK){var aJ=aI.fill;if(!aJ){return null}if(aI.fillColor){return ar(aI.fillColor,aH,aK,aG)}var aL=c.color.parse(aG);aL.a=typeof aJ=="number"?aJ:0.4;aL.normalize();return aL.toString()}function p(){aA.find(".legend").remove();if(!S.legend.show){return}if(S.legend.type!="html"){if(S.legend.type="canvas"){D(aw)}return}var aM=[],aK=false,aS=S.legend.labelFormatter,aR,aO;for(var aJ=0;aJ<U.length;++aJ){aR=U[aJ];aO=aR.label;if(!aO){continue}if(aJ%S.legend.noColumns==0){if(aK){aM.push("</tr>")}aM.push("<tr>");aK=true}if(aS){aO=aS(aO,aR)}aM.push('<td class="legendColorBox"><div style="border:1px solid '+S.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+aR.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+aO+"</td>")}if(aK){aM.push("</tr>")}if(aM.length==0){return}var aQ='<table style="font-size:smaller;color:'+S.grid.color+'">'+aM.join("")+"</table>";if(S.legend.container!=null){c(S.legend.container).html(aQ)}else{var aN="",aH=S.legend.position,aI=S.legend.margin;if(aI[0]==null){aI=[aI,aI]}if(aH.charAt(0)=="n"){aN+="top:"+(aI[1]+r.top)+"px;"}else{if(aH.charAt(0)=="s"){aN+="bottom:"+(aI[1]+r.bottom)+"px;"}}if(aH.charAt(1)=="e"){aN+="right:"+(aI[0]+r.right)+"px;"}else{if(aH.charAt(1)=="w"){aN+="left:"+(aI[0]+r.left)+"px;"}}var aP=c('<div class="legend">'+aQ.replace('style="','style="position:absolute;'+aN+";")+"</div>").appendTo(aA);if(S.legend.backgroundOpacity!=0){var aL=S.legend.backgroundColor;if(aL==null){aL=S.grid.backgroundColor;if(aL&&typeof aL=="string"){aL=c.color.parse(aL)}else{aL=c.color.extract(aP,"background-color")}aL.a=1;aL=aL.toString()}var aG=aP.children();c('<div style="position:absolute;width:'+aG.width()+"px;height:"+aG.height()+"px;"+aN+"background-color:"+aL+';"> </div>').prependTo(aP).css("opacity",S.legend.backgroundOpacity)}}}function D(a3){var aG={};aG.fontSize=8;aG.letters={" ":{width:16,points:[]},"!":{width:10,points:[[5,21],[5,7],[-1,-1],[5,2],[4,1],[5,0],[6,1],[5,2]]},'"':{width:16,points:[[4,21],[4,14],[-1,-1],[12,21],[12,14]]},"#":{width:21,points:[[11,25],[4,-7],[-1,-1],[17,25],[10,-7],[-1,-1],[4,12],[18,12],[-1,-1],[3,6],[17,6]]},"$":{width:20,points:[[8,25],[8,-4],[-1,-1],[12,25],[12,-4],[-1,-1],[17,18],[15,20],[12,21],[8,21],[5,20],[3,18],[3,16],[4,14],[5,13],[7,12],[13,10],[15,9],[16,8],[17,6],[17,3],[15,1],[12,0],[8,0],[5,1],[3,3]]},"%":{width:24,points:[[21,21],[3,0],[-1,-1],[8,21],[10,19],[10,17],[9,15],[7,14],[5,14],[3,16],[3,18],[4,20],[6,21],[8,21],[10,20],[13,19],[16,19],[19,20],[21,21],[-1,-1],[17,7],[15,6],[14,4],[14,2],[16,0],[18,0],[20,1],[21,3],[21,5],[19,7],[17,7]]},"&":{width:26,points:[[23,12],[23,13],[22,14],[21,14],[20,13],[19,11],[17,6],[15,3],[13,1],[11,0],[7,0],[5,1],[4,2],[3,4],[3,6],[4,8],[5,9],[12,13],[13,14],[14,16],[14,18],[13,20],[11,21],[9,20],[8,18],[8,16],[9,13],[11,10],[16,3],[18,1],[20,0],[22,0],[23,1],[23,2]]},"'":{width:10,points:[[5,19],[4,20],[5,21],[6,20],[6,18],[5,16],[4,15]]},"(":{width:14,points:[[11,25],[9,23],[7,20],[5,16],[4,11],[4,7],[5,2],[7,-2],[9,-5],[11,-7]]},")":{width:14,points:[[3,25],[5,23],[7,20],[9,16],[10,11],[10,7],[9,2],[7,-2],[5,-5],[3,-7]]},"*":{width:16,points:[[8,21],[8,9],[-1,-1],[3,18],[13,12],[-1,-1],[13,18],[3,12]]},"+":{width:26,points:[[13,18],[13,0],[-1,-1],[4,9],[22,9]]},",":{width:10,points:[[6,1],[5,0],[4,1],[5,2],[6,1],[6,-1],[5,-3],[4,-4]]},"-":{width:26,points:[[4,9],[22,9]]},".":{width:10,points:[[5,2],[4,1],[5,0],[6,1],[5,2]]},"/":{width:22,points:[[20,25],[2,-7]]},"0":{width:20,points:[[9,21],[6,20],[4,17],[3,12],[3,9],[4,4],[6,1],[9,0],[11,0],[14,1],[16,4],[17,9],[17,12],[16,17],[14,20],[11,21],[9,21]]},"1":{width:20,points:[[6,17],[8,18],[11,21],[11,0]]},"2":{width:20,points:[[4,16],[4,17],[5,19],[6,20],[8,21],[12,21],[14,20],[15,19],[16,17],[16,15],[15,13],[13,10],[3,0],[17,0]]},"3":{width:20,points:[[5,21],[16,21],[10,13],[13,13],[15,12],[16,11],[17,8],[17,6],[16,3],[14,1],[11,0],[8,0],[5,1],[4,2],[3,4]]},"4":{width:20,points:[[13,21],[3,7],[18,7],[-1,-1],[13,21],[13,0]]},"5":{width:20,points:[[15,21],[5,21],[4,12],[5,13],[8,14],[11,14],[14,13],[16,11],[17,8],[17,6],[16,3],[14,1],[11,0],[8,0],[5,1],[4,2],[3,4]]},"6":{width:20,points:[[16,18],[15,20],[12,21],[10,21],[7,20],[5,17],[4,12],[4,7],[5,3],[7,1],[10,0],[11,0],[14,1],[16,3],[17,6],[17,7],[16,10],[14,12],[11,13],[10,13],[7,12],[5,10],[4,7]]},"7":{width:20,points:[[17,21],[7,0],[-1,-1],[3,21],[17,21]]},"8":{width:20,points:[[8,21],[5,20],[4,18],[4,16],[5,14],[7,13],[11,12],[14,11],[16,9],[17,7],[17,4],[16,2],[15,1],[12,0],[8,0],[5,1],[4,2],[3,4],[3,7],[4,9],[6,11],[9,12],[13,13],[15,14],[16,16],[16,18],[15,20],[12,21],[8,21]]},"9":{width:20,points:[[16,14],[15,11],[13,9],[10,8],[9,8],[6,9],[4,11],[3,14],[3,15],[4,18],[6,20],[9,21],[10,21],[13,20],[15,18],[16,14],[16,9],[15,4],[13,1],[10,0],[8,0],[5,1],[4,3]]},":":{width:10,points:[[5,14],[4,13],[5,12],[6,13],[5,14],[-1,-1],[5,2],[4,1],[5,0],[6,1],[5,2]]},";":{width:10,points:[[5,14],[4,13],[5,12],[6,13],[5,14],[-1,-1],[6,1],[5,0],[4,1],[5,2],[6,1],[6,-1],[5,-3],[4,-4]]},"<":{width:24,points:[[20,18],[4,9],[20,0]]},"=":{width:26,points:[[4,12],[22,12],[-1,-1],[4,6],[22,6]]},">":{width:24,points:[[4,18],[20,9],[4,0]]},"≥":{width:24,points:[[4,18],[20,12],[4,7],[-1,-1],[4,2],[20,2]]},"?":{width:18,points:[[3,16],[3,17],[4,19],[5,20],[7,21],[11,21],[13,20],[14,19],[15,17],[15,15],[14,13],[13,12],[9,10],[9,7],[-1,-1],[9,2],[8,1],[9,0],[10,1],[9,2]]},"@":{width:27,points:[[18,13],[17,15],[15,16],[12,16],[10,15],[9,14],[8,11],[8,8],[9,6],[11,5],[14,5],[16,6],[17,8],[-1,-1],[12,16],[10,14],[9,11],[9,8],[10,6],[11,5],[-1,-1],[18,16],[17,8],[17,6],[19,5],[21,5],[23,7],[24,10],[24,12],[23,15],[22,17],[20,19],[18,20],[15,21],[12,21],[9,20],[7,19],[5,17],[4,15],[3,12],[3,9],[4,6],[5,4],[7,2],[9,1],[12,0],[15,0],[18,1],[20,2],[21,3],[-1,-1],[19,16],[18,8],[18,6],[19,5]]},A:{width:18,points:[[9,21],[1,0],[-1,-1],[9,21],[17,0],[-1,-1],[4,7],[14,7]]},B:{width:21,points:[[4,21],[4,0],[-1,-1],[4,21],[13,21],[16,20],[17,19],[18,17],[18,15],[17,13],[16,12],[13,11],[-1,-1],[4,11],[13,11],[16,10],[17,9],[18,7],[18,4],[17,2],[16,1],[13,0],[4,0]]},C:{width:21,points:[[18,16],[17,18],[15,20],[13,21],[9,21],[7,20],[5,18],[4,16],[3,13],[3,8],[4,5],[5,3],[7,1],[9,0],[13,0],[15,1],[17,3],[18,5]]},D:{width:21,points:[[4,21],[4,0],[-1,-1],[4,21],[11,21],[14,20],[16,18],[17,16],[18,13],[18,8],[17,5],[16,3],[14,1],[11,0],[4,0]]},E:{width:19,points:[[4,21],[4,0],[-1,-1],[4,21],[17,21],[-1,-1],[4,11],[12,11],[-1,-1],[4,0],[17,0]]},F:{width:18,points:[[4,21],[4,0],[-1,-1],[4,21],[17,21],[-1,-1],[4,11],[12,11]]},G:{width:21,points:[[18,16],[17,18],[15,20],[13,21],[9,21],[7,20],[5,18],[4,16],[3,13],[3,8],[4,5],[5,3],[7,1],[9,0],[13,0],[15,1],[17,3],[18,5],[18,8],[-1,-1],[13,8],[18,8]]},H:{width:22,points:[[4,21],[4,0],[-1,-1],[18,21],[18,0],[-1,-1],[4,11],[18,11]]},I:{width:8,points:[[4,21],[4,0]]},J:{width:16,points:[[12,21],[12,5],[11,2],[10,1],[8,0],[6,0],[4,1],[3,2],[2,5],[2,7]]},K:{width:21,points:[[4,21],[4,0],[-1,-1],[18,21],[4,7],[-1,-1],[9,12],[18,0]]},L:{width:17,points:[[4,21],[4,0],[-1,-1],[4,0],[16,0]]},M:{width:24,points:[[4,21],[4,0],[-1,-1],[4,21],[12,0],[-1,-1],[20,21],[12,0],[-1,-1],[20,21],[20,0]]},N:{width:22,points:[[4,21],[4,0],[-1,-1],[4,21],[18,0],[-1,-1],[18,21],[18,0]]},O:{width:22,points:[[9,21],[7,20],[5,18],[4,16],[3,13],[3,8],[4,5],[5,3],[7,1],[9,0],[13,0],[15,1],[17,3],[18,5],[19,8],[19,13],[18,16],[17,18],[15,20],[13,21],[9,21]]},P:{width:21,points:[[4,21],[4,0],[-1,-1],[4,21],[13,21],[16,20],[17,19],[18,17],[18,14],[17,12],[16,11],[13,10],[4,10]]},Q:{width:22,points:[[9,21],[7,20],[5,18],[4,16],[3,13],[3,8],[4,5],[5,3],[7,1],[9,0],[13,0],[15,1],[17,3],[18,5],[19,8],[19,13],[18,16],[17,18],[15,20],[13,21],[9,21],[-1,-1],[12,4],[18,-2]]},R:{width:21,points:[[4,21],[4,0],[-1,-1],[4,21],[13,21],[16,20],[17,19],[18,17],[18,15],[17,13],[16,12],[13,11],[4,11],[-1,-1],[11,11],[18,0]]},S:{width:20,points:[[17,18],[15,20],[12,21],[8,21],[5,20],[3,18],[3,16],[4,14],[5,13],[7,12],[13,10],[15,9],[16,8],[17,6],[17,3],[15,1],[12,0],[8,0],[5,1],[3,3]]},T:{width:16,points:[[8,21],[8,0],[-1,-1],[1,21],[15,21]]},U:{width:22,points:[[4,21],[4,6],[5,3],[7,1],[10,0],[12,0],[15,1],[17,3],[18,6],[18,21]]},V:{width:18,points:[[1,21],[9,0],[-1,-1],[17,21],[9,0]]},W:{width:24,points:[[2,21],[7,0],[-1,-1],[12,21],[7,0],[-1,-1],[12,21],[17,0],[-1,-1],[22,21],[17,0]]},X:{width:20,points:[[3,21],[17,0],[-1,-1],[17,21],[3,0]]},Y:{width:18,points:[[1,21],[9,11],[9,0],[-1,-1],[17,21],[9,11]]},Z:{width:20,points:[[17,21],[3,0],[-1,-1],[3,21],[17,21],[-1,-1],[3,0],[17,0]]},"[":{width:14,points:[[4,25],[4,-7],[-1,-1],[5,25],[5,-7],[-1,-1],[4,25],[11,25],[-1,-1],[4,-7],[11,-7]]},"\\":{width:14,points:[[0,21],[14,-3]]},"]":{width:14,points:[[9,25],[9,-7],[-1,-1],[10,25],[10,-7],[-1,-1],[3,25],[10,25],[-1,-1],[3,-7],[10,-7]]},"^":{width:16,points:[[6,15],[8,18],[10,15],[-1,-1],[3,12],[8,17],[13,12],[-1,-1],[8,17],[8,0]]},_:{width:16,points:[[0,-2],[16,-2]]},"`":{width:10,points:[[6,21],[5,20],[4,18],[4,16],[5,15],[6,16],[5,17]]},a:{width:19,points:[[15,14],[15,0],[-1,-1],[15,11],[13,13],[11,14],[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3]]},b:{width:19,points:[[4,21],[4,0],[-1,-1],[4,11],[6,13],[8,14],[11,14],[13,13],[15,11],[16,8],[16,6],[15,3],[13,1],[11,0],[8,0],[6,1],[4,3]]},c:{width:18,points:[[15,11],[13,13],[11,14],[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3]]},d:{width:19,points:[[15,21],[15,0],[-1,-1],[15,11],[13,13],[11,14],[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3]]},e:{width:18,points:[[3,8],[15,8],[15,10],[14,12],[13,13],[11,14],[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3]]},f:{width:12,points:[[10,21],[8,21],[6,20],[5,17],[5,0],[-1,-1],[2,14],[9,14]]},g:{width:19,points:[[15,14],[15,-2],[14,-5],[13,-6],[11,-7],[8,-7],[6,-6],[-1,-1],[15,11],[13,13],[11,14],[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3]]},h:{width:19,points:[[4,21],[4,0],[-1,-1],[4,10],[7,13],[9,14],[12,14],[14,13],[15,10],[15,0]]},i:{width:8,points:[[3,21],[4,20],[5,21],[4,22],[3,21],[-1,-1],[4,14],[4,0]]},j:{width:10,points:[[5,21],[6,20],[7,21],[6,22],[5,21],[-1,-1],[6,14],[6,-3],[5,-6],[3,-7],[1,-7]]},k:{width:17,points:[[4,21],[4,0],[-1,-1],[14,14],[4,4],[-1,-1],[8,8],[15,0]]},l:{width:8,points:[[4,21],[4,0]]},m:{width:30,points:[[4,14],[4,0],[-1,-1],[4,10],[7,13],[9,14],[12,14],[14,13],[15,10],[15,0],[-1,-1],[15,10],[18,13],[20,14],[23,14],[25,13],[26,10],[26,0]]},n:{width:19,points:[[4,14],[4,0],[-1,-1],[4,10],[7,13],[9,14],[12,14],[14,13],[15,10],[15,0]]},o:{width:19,points:[[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3],[16,6],[16,8],[15,11],[13,13],[11,14],[8,14]]},p:{width:19,points:[[4,14],[4,-7],[-1,-1],[4,11],[6,13],[8,14],[11,14],[13,13],[15,11],[16,8],[16,6],[15,3],[13,1],[11,0],[8,0],[6,1],[4,3]]},q:{width:19,points:[[15,14],[15,-7],[-1,-1],[15,11],[13,13],[11,14],[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3]]},r:{width:13,points:[[4,14],[4,0],[-1,-1],[4,8],[5,11],[7,13],[9,14],[12,14]]},s:{width:17,points:[[14,11],[13,13],[10,14],[7,14],[4,13],[3,11],[4,9],[6,8],[11,7],[13,6],[14,4],[14,3],[13,1],[10,0],[7,0],[4,1],[3,3]]},t:{width:12,points:[[5,21],[5,4],[6,1],[8,0],[10,0],[-1,-1],[2,14],[9,14]]},u:{width:19,points:[[4,14],[4,4],[5,1],[7,0],[10,0],[12,1],[15,4],[-1,-1],[15,14],[15,0]]},v:{width:16,points:[[2,14],[8,0],[-1,-1],[14,14],[8,0]]},w:{width:22,points:[[3,14],[7,0],[-1,-1],[11,14],[7,0],[-1,-1],[11,14],[15,0],[-1,-1],[19,14],[15,0]]},x:{width:17,points:[[3,14],[14,0],[-1,-1],[14,14],[3,0]]},y:{width:16,points:[[2,14],[8,0],[-1,-1],[14,14],[8,0],[6,-4],[4,-6],[2,-7],[1,-7]]},z:{width:17,points:[[14,14],[3,0],[-1,-1],[3,14],[14,14],[-1,-1],[3,0],[14,0]]},"{":{width:14,points:[[9,25],[7,24],[6,23],[5,21],[5,19],[6,17],[7,16],[8,14],[8,12],[6,10],[-1,-1],[7,24],[6,22],[6,20],[7,18],[8,17],[9,15],[9,13],[8,11],[4,9],[8,7],[9,5],[9,3],[8,1],[7,0],[6,-2],[6,-4],[7,-6],[-1,-1],[6,8],[8,6],[8,4],[7,2],[6,1],[5,-1],[5,-3],[6,-5],[7,-6],[9,-7]]},"|":{width:8,points:[[4,25],[4,-7]]},"}":{width:14,points:[[5,25],[7,24],[8,23],[9,21],[9,19],[8,17],[7,16],[6,14],[6,12],[8,10],[-1,-1],[7,24],[8,22],[8,20],[7,18],[6,17],[5,15],[5,13],[6,11],[10,9],[6,7],[5,5],[5,3],[6,1],[7,0],[8,-2],[8,-4],[7,-6],[-1,-1],[8,8],[6,6],[6,4],[7,2],[8,1],[9,-1],[9,-3],[8,-5],[7,-6],[5,-7]]},"~":{width:24,points:[[3,6],[3,8],[4,11],[6,12],[8,12],[10,11],[14,8],[16,7],[18,7],[20,8],[21,10],[-1,-1],[3,8],[4,10],[6,11],[8,11],[10,10],[14,7],[16,6],[18,6],[20,7],[21,10],[21,12]]}};aG.letter=function(ba){return aG.letters[ba]};aG.ascent=function(){return aG.fontSize};aG.measure=function(be){var bc=aG.fontSize;var bd=0;var ba=be.length;for(var bb=0;bb<ba;bb++){var bf=aG.letter(be.charAt(bb));if(bf){bd+=bf.width*bc/25}}return bd};aG.draw=function(bm,bl,bi,bh){var bn=aG.fontSize;var bj=0;var bf=bh.length;var be=bn/25;bm.save();bm.lineCap="round";bm.lineWidth=2*be;for(var bd=0;bd<bf;bd++){var bg=aG.letter(bh.charAt(bd));if(!bg){continue}bm.beginPath();var bc=1;var ba=0;for(var bb=0;bb<bg.points.length;bb++){var bk=bg.points[bb];if(bk[0]==-1&&bk[1]==-1){bc=1;continue}if(bc){bm.moveTo(bl+bk[0]*be,bi-bk[1]*be);bc=false}else{bm.lineTo(bl+bk[0]*be,bi-bk[1]*be)}}bm.stroke();bl+=bg.width*be}bm.restore();return bj};var aI=a3.getCanvas();var a2=aI.getContext("2d");var a6=function(bb,ba,bc){return aG.draw(a2,ba,bc,bb)};var aO=function(ba){return aG.measure(ba)};var aQ=function(){return aG.ascent()};var aJ=a3.getOptions();var aT=a3.getData();var aU=a3.getPlotOffset();var a5=a3.height();var aN=a3.width();var aX=aJ.legend.labelFormatter;var aW=0,aK=0;var a9=0;var aV,aP;for(var a4=0;a4<aT.length;++a4){aV=aT[a4];aP=aV.label;if(!aP){continue}a9++;if(aX){aP=aX(aP,aV)}labelWidth=aO(aP);if(labelWidth>aW){aW=labelWidth}}var aH=22;var a7=5;var aM=18;aW=aW+aH+a7;aK=a9*aM;var aS,aR;if(aJ.legend.container!=null){aS=c(aJ.legend.container).offset().left;aR=c(aJ.legend.container).offset().top}else{var aL="";var aY=aJ.legend.position;var a1=aJ.legend.margin;if(a1[0]==null){a1=[a1,a1]}if(aY.charAt(0)=="n"){aR=Math.round(aU.top+aJ.grid.borderWidth+a1[1])}else{if(aY.charAt(0)=="s"){aR=Math.round(aU.top+aJ.grid.borderWidth+a5-a1[0]-aK)}}if(aY.charAt(1)=="e"){aS=Math.round(aU.left+aJ.grid.borderWidth+aN-a1[0]-aW)}else{if(aY.charAt(1)=="w"){aS=Math.round(aU.left+aJ.grid.borderWidth+a1[0])}}if(aJ.legend.backgroundOpacity!=0){var a8=aJ.legend.backgroundColor;if(a8==null){a8=aJ.grid.backgroundColor}if(a8&&typeof a8=="string"){a2.globalAlpha=aJ.legend.backgroundOpacity;a2.fillStyle=a8;a2.fillRect(aS,aR,aW,aK);a2.globalAlpha=1}}}var a0,aZ;for(var a4=0;a4<aT.length;++a4){aV=aT[a4];aP=aV.label;if(!aP){continue}if(aX){aP=aX(aP,aV)}aZ=aR+(a4*18);a2.fillStyle=aJ.legend.labelBoxBorderColor;a2.fillRect(aS,aZ,18,14);a2.fillStyle="#FFF";a2.fillRect(aS+1,aZ+1,16,12);a2.fillStyle=aV.color;a2.fillRect(aS+2,aZ+2,14,10);a0=aS+22;aZ=aZ+aQ()+2;a6(aP,a0,aZ)}}var ag=[],P=null;function N(aN,aL,aI){var aS=S.grid.mouseActiveRadius,a3=aS*aS+1,a1=null,aV=false,aZ,aX;for(aZ=U.length-1;aZ>=0;--aZ){if(!aI(U[aZ])){continue}if(U[aZ].yaxis.n<0){continue}var aT=U[aZ],aM=aT.xaxis,aK=aT.yaxis,aY=aT.datapoints.points,aW=aT.datapoints.pointsize,aU=aM.c2p(aN),aR=aK.c2p(aL),aH=aS/aM.scale,aG=aS/aK.scale;if(aM.options.inverseTransform){aH=Number.MAX_VALUE}if(aK.options.inverseTransform){aG=Number.MAX_VALUE}if(aT.lines.show||aT.points.show){for(aX=0;aX<aY.length;aX+=aW){var aP=aY[aX],aO=aY[aX+1];if(aP==null){continue}if(aP-aU>aH||aP-aU<-aH||(aO-aR>aG||aO-aR<-aG)&&!S.grid.mouseActiveIgnoreY){continue}var aQ=Math.abs(aM.p2c(aP)-aN);dy=S.grid.mouseActiveIgnoreY?0:Math.abs(aK.p2c(aO)-aL);dist=aQ*aQ+dy*dy;if(dist<a3){a3=dist;a1=[aZ,aX/aW]}}}if(aT.bars.show&&!a1){var aJ=aT.bars.align=="left"?0:-aT.bars.barWidth/2,a0=aJ+aT.bars.barWidth;for(aX=0;aX<aY.length;aX+=aW){var aP=aY[aX],aO=aY[aX+1],a2=aY[aX+2];if(aP==null){continue}if(U[aZ].bars.horizontal?(aU<=Math.max(a2,aP)&&aU>=Math.min(a2,aP)&&aR>=aO+aJ&&aR<=aO+a0):(aU>=aP+aJ&&aU<=aP+a0&&aR>=Math.min(a2,aO)&&aR<=Math.max(a2,aO))){a1=[aZ,aX/aW]}}}}if(a1){aZ=a1[0];aX=a1[1];aW=U[aZ].datapoints.pointsize;return{datapoint:U[aZ].datapoints.points.slice(aX*aW,(aX+1)*aW),dataIndex:aX,series:U[aZ],seriesIndex:aZ}}return null}function af(aG){if(S.grid.hoverable){v("plothover",aG,function(aH){return aH.hoverable!=false})}}function l(aG){if(S.grid.hoverable){v("plothover",aG,function(aH){return false})}}function V(aG){v("plotclick",aG,function(aH){return aH.clickable!=false})}function v(aH,aG,aI){var aJ=A.offset(),aM=aG.pageX-aJ.left-r.left,aK=aG.pageY-aJ.top-r.top,aO=F({left:aM,top:aK});aO.pageX=aG.pageX;aO.pageY=aG.pageY;var aP=N(aM,aK,aI);if(aP){aP.pageX=parseInt(aP.series.xaxis.p2c(aP.datapoint[0])+aJ.left+r.left);aP.pageY=parseInt(aP.series.yaxis.p2c(aP.datapoint[1])+aJ.top+r.top)}if(S.grid.autoHighlight){for(var aL=0;aL<ag.length;++aL){var aN=ag[aL];if(aN.auto==aH&&!(aP&&aN.series==aP.series&&aN.point[0]==aP.datapoint[0]&&aN.point[1]==aP.datapoint[1])){Y(aN.series,aN.point)}}if(aP){if(S.grid.mouseActiveIgnoreY){for(aL=0;aL<U.length;++aL){z(aL,aP.dataIndex,aH)}}else{z(aP.series,aP.datapoint,aH)}}}aA.trigger(aH,[aO,aP,aA,aG])}function f(){var aG=S.interaction.redrawOverlayInterval;if(aG==-1){t();return}if(!P){P=setTimeout(t,aG)}}function t(){P=null;C.save();C.clearRect(0,0,J,L);C.translate(r.left,r.top);var aH,aG;for(aH=0;aH<ag.length;++aH){aG=ag[aH];if(aG.series.bars.show){x(aG.series,aG.point)}else{aD(aG.series,aG.point)}}C.restore();at(ap.drawOverlay,[C])}function z(aI,aG,aK){if(typeof aI=="number"){aI=U[aI]}if(typeof aG=="number"){var aJ=aI.datapoints.pointsize;aG=aI.datapoints.points.slice(aJ*aG,aJ*(aG+1))}var aH=aq(aI,aG);if(aH==-1){ag.push({series:aI,point:aG,auto:aK});f()}else{if(!aK){ag[aH].auto=false}}}function Y(aI,aG){if(aI==null&&aG==null){ag=[];f()}if(typeof aI=="number"){aI=U[aI]}if(typeof aG=="number"){aG=aI.data[aG]}var aH=aq(aI,aG);if(aH!=-1){ag.splice(aH,1);f()}}function aq(aI,aJ){for(var aG=0;aG<ag.length;++aG){var aH=ag[aG];if(aH.series==aI&&aH.point[0]==aJ[0]&&aH.point[1]==aJ[1]){return aG}}return -1}function aD(aG,aN){var aL=aN[0],aJ=aN[1],aO=aG.xaxis,aM=aG.yaxis;highlightColor=(typeof aG.highlightColor==="string")?aG.highlightColor:c.color.parse(aG.color).scale("a",0.5).toString();if(aL<aO.min||aL>aO.max||aJ<aM.min||aJ>aM.max){return}if(aG.points.symbol=="image"){console.log(aG);var aK=aG.points.radius+aG.points.lineWidth/2;C.lineWidth=aK;var aH=new Image();aH.src=aG.image;aH.onload=function(){aL=parseInt(aO.p2c(aL))-parseInt(C.lineWidth*2);aJ=parseInt(aM.p2c(aJ))-parseInt(aH.height/2)+parseInt(C.lineWidth*10);console.log(aL);console.log(aJ);C.drawImage(aH,aL,aJ)}}else{var aK=aG.points.radius+aG.points.lineWidth/2;C.lineWidth=aK;C.strokeStyle=highlightColor;var aI=1.5*aK,aL=aO.p2c(aL),aJ=aM.p2c(aJ);C.beginPath();if(aG.points.symbol=="circle"){C.arc(aL,aJ,aI,0,2*Math.PI,false)}else{aG.points.symbol(C,aL,aJ,aI,false)}C.closePath();C.stroke()}}function x(aJ,aG){var aK=(typeof aJ.highlightColor==="string")?aJ.highlightColor:c.color.parse(aJ.color).scale("a",0.5).toString(),aI=aK,aH=aJ.bars.align=="left"?0:-aJ.bars.barWidth/2;C.lineWidth=aJ.bars.lineWidth;C.strokeStyle=aK;H(aG[0],aG[1],aG[2]||0,aH,aH+aJ.bars.barWidth,0,function(){return aI},aJ.xaxis,aJ.yaxis,C,aJ.bars.horizontal,aJ.bars.lineWidth)}function ar(aO,aG,aM,aH){if(typeof aO=="string"){return aO}else{var aN=K.createLinearGradient(0,aM,0,aG);for(var aJ=0,aI=aO.colors.length;aJ<aI;++aJ){var aK=aO.colors[aJ];if(typeof aK!="string"){var aL=c.color.parse(aH);if(aK.brightness!=null){aL=aL.scale("rgb",aK.brightness)}if(aK.opacity!=null){aL.a*=aK.opacity}aK=aL.toString()}aN.addColorStop(aJ/(aI-1),aK)}return aN}}}c.plot=function(g,e,d){var f=new b(c(g),e,d,c.plot.plugins);return f};c.plot.version="0.7";c.plot.plugins=[];c.plot.formatDate=function(n,f,j){var q=function(d){d=""+d;return d.length==1?"0"+d:d};var e=[];var s=false,k=false;var p=n.getUTCHours();var l=p<12;if(j==null){j=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}if(f.search(/%p|%P/)!=-1){if(p>12){p=p-12}else{if(p==0){p=12}}}for(var g=0;g<f.length;++g){var o=f.charAt(g);if(s){switch(o){case"h":o=""+p;break;case"H":o=q(p);break;case"M":o=q(n.getUTCMinutes());break;case"S":o=q(n.getUTCSeconds());break;case"d":o=""+n.getUTCDate();break;case"m":o=""+(n.getUTCMonth()+1);break;case"y":o=""+n.getUTCFullYear();break;case"b":o=""+j[n.getUTCMonth()];break;case"p":o=(l)?("am"):("pm");break;case"P":o=(l)?("AM"):("PM");break;case"0":o="";k=true;break}if(o&&k){o=q(o);k=false}e.push(o);if(!k){s=false}}else{if(o=="%"){s=true}else{e.push(o)}}}return e.join("")};function a(e,d){return d*Math.floor(e/d)}})(jQuery);